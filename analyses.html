<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="David Schindler and Frank Krüger">

<title>A multi-level analysis of data quality for formal software citation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="analyses_files/libs/clipboard/clipboard.min.js"></script>
<script src="analyses_files/libs/quarto-html/quarto.js"></script>
<script src="analyses_files/libs/quarto-html/popper.min.js"></script>
<script src="analyses_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="analyses_files/libs/quarto-html/anchor.min.js"></script>
<link href="analyses_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="analyses_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="analyses_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="analyses_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="analyses_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">A multi-level analysis of data quality for formal software citation</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>David Schindler and Frank Krüger </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="a-multi-level-analysis-of-data-quality-for-formal-software-citation" class="level1">
<h1>A multi-level analysis of data quality for formal software citation</h1>
<ol type="1">
<li>What types of resources are referenced by formal software citations?</li>
<li>Is software formally cited without being mentioned in the full-text document?</li>
<li>Do formal software references provide all necessary information to identify software, developer, and the used code base?</li>
<li>How well are formal software references represented in scientific literature databases?</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(DescTools)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(ggalluvial)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(easyalluvial)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(xtable)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(rcompanion)</span>
<span id="cb1-9"><a href="#cb1-9"></a></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">options</span>(<span class="at">xtable.floating =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="fu">options</span>(<span class="at">xtable.timestamp =</span> <span class="st">""</span>)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">options</span>(<span class="at">warn=</span><span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="fu">options</span>(<span class="at">dplyr.summarise.inform =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-14"><a href="#cb1-14"></a></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">theme_set</span>(<span class="fu">theme_bw</span>() <span class="sc">+</span>   </span>
<span id="cb1-16"><a href="#cb1-16"></a>            <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'top'</span>, </span>
<span id="cb1-17"><a href="#cb1-17"></a>                  <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill=</span><span class="st">"#E5E5E5"</span>), </span>
<span id="cb1-18"><a href="#cb1-18"></a>                  <span class="at">plot.margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>,<span class="dv">0</span>), <span class="st">'mm'</span>),</span>
<span id="cb1-19"><a href="#cb1-19"></a>                  <span class="at">legend.margin=</span><span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>),</span>
<span id="cb1-20"><a href="#cb1-20"></a>                  <span class="at">legend.box.margin=</span><span class="fu">margin</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>),</span>
<span id="cb1-21"><a href="#cb1-21"></a>                  <span class="at">plot.caption.position =</span> <span class="st">"plot"</span>,</span>
<span id="cb1-22"><a href="#cb1-22"></a>                  <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="dv">0</span>),</span>
<span id="cb1-23"><a href="#cb1-23"></a>                  <span class="at">plot.tag.position =</span> <span class="st">"bottomleft"</span>)</span>
<span id="cb1-24"><a href="#cb1-24"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="citation-resource-types" class="level2">
<h2 class="anchored" data-anchor-id="citation-resource-types">Citation Resource Types</h2>
<p>The first analysis investigates the different types of resources that are referenced by formal software citations that appear in-text in the context of an informal software mention.</p>
<p>First up the required data is loaded. As outlined in the article, creation sentences are excluded for this analyses as they might add a bias.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>creation_articles <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'SoMeSci/Formal_Citation/creation_file_list.csv'</span>, </span>
<span id="cb2-2"><a href="#cb2-2"></a>                              <span class="at">show_col_types =</span> F)</span>
<span id="cb2-3"><a href="#cb2-3"></a>df_citation_types <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'SoMeSci/Formal_Citation/software_citation_type_annotation.csv'</span>, </span>
<span id="cb2-4"><a href="#cb2-4"></a>                              <span class="at">show_col_types =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb2-6"><a href="#cb2-6"></a>    software_citation_type <span class="sc">==</span> <span class="st">'Book'</span>, </span>
<span id="cb2-7"><a href="#cb2-7"></a>    <span class="st">'Software_Article'</span>, </span>
<span id="cb2-8"><a href="#cb2-8"></a>    software_citation_type)) <span class="sc">%&gt;%</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>  <span class="fu">mutate</span>(<span class="at">paper =</span> <span class="fu">gsub</span>(</span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="st">'https://www.ncbi.nlm.nih.gov/pmc/articles/'</span>, </span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="st">''</span>, </span>
<span id="cb2-12"><a href="#cb2-12"></a>    paper)) <span class="sc">%&gt;%</span></span>
<span id="cb2-13"><a href="#cb2-13"></a>  <span class="fu">select</span>(<span class="sc">-</span>software) <span class="sc">%&gt;%</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>  <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We look at the number of annotated references; filter for creation sentences; remove annotations that were found to not be software references; calculate multinomial confidence intervals for the relevant data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Overall annotations</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Number of annotations: "</span>, <span class="fu">nrow</span>(df_citation_types)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Number of annotations: 594"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Exclude Creation sentences </span></span>
<span id="cb5-2"><a href="#cb5-2"></a>df_citation_types <span class="sc">%&lt;&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">filter</span>(<span class="sc">!</span>paper <span class="sc">%in%</span> creation_articles<span class="sc">$</span>creation_file_list)</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="fu">print</span>(<span class="fu">paste0</span>(</span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="st">"Number of annotations without Creation Sentences: "</span>, </span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="fu">nrow</span>(df_citation_types)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Number of annotations without Creation Sentences: 564"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co"># Analyze and exclude irrelevant types</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Direct'</span>, <span class="st">'Software_Article'</span>, <span class="st">'Manual'</span>, <span class="st">'Website'</span>, <span class="st">'Other'</span>)</span>
<span id="cb7-3"><a href="#cb7-3"></a>df_citation_types <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">filter</span>(<span class="sc">!</span>software_citation_type <span class="sc">%in%</span> order) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">group_by</span>(software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="fu">print</span>(.)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  software_citation_type     n
  &lt;chr&gt;                  &lt;int&gt;
1 Application               12
2 Article_Error              7
3 Unrelated                  6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>df_citation_types <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="fu">filter</span>(software_citation_type <span class="sc">%in%</span> order) </span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Number of relevant annotations: "</span>, <span class="fu">nrow</span>(df_citation_types)))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Number of relevant annotations: 539"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Calculate CIs</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>df_citation_types <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="fu">group_by</span>(software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="ot">-&gt;</span> df_tmp</span>
<span id="cb11-5"><a href="#cb11-5"></a>df_tmp_2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">MultinomCI</span>(df_tmp<span class="sc">$</span>n, <span class="at">conf.level =</span> <span class="fl">0.95</span>))</span>
<span id="cb11-6"><a href="#cb11-6"></a>df <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(df_tmp, df_tmp_2)</span>
<span id="cb11-7"><a href="#cb11-7"></a></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="fu">print</span>(<span class="fu">mutate</span>(df, <span class="fu">across</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>, round, <span class="dv">3</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
  software_citation_type     n   est lwr.ci upr.ci
  &lt;chr&gt;                  &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Direct                   120 0.223  0.186  0.263
2 Manual                    35 0.065  0.028  0.105
3 Other                      4 0.007  0      0.048
4 Software_Article         375 0.696  0.659  0.736
5 Website                    5 0.009  0      0.05 </code></pre>
</div>
</div>
<p>Plotting the results:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb13-3"><a href="#cb13-3"></a>    software_citation_type <span class="sc">==</span> <span class="st">'Software_Article'</span>, </span>
<span id="cb13-4"><a href="#cb13-4"></a>    <span class="st">'Article'</span>, </span>
<span id="cb13-5"><a href="#cb13-5"></a>    software_citation_type)) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">factor</span>(</span>
<span id="cb13-7"><a href="#cb13-7"></a>    software_citation_type, </span>
<span id="cb13-8"><a href="#cb13-8"></a>    <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'Direct'</span>, <span class="st">'Article'</span>, <span class="st">'Manual'</span>, <span class="st">'Website'</span>, <span class="st">'Other'</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb13-9"><a href="#cb13-9"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(software_citation_type, est)) <span class="sc">+</span> </span>
<span id="cb13-10"><a href="#cb13-10"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb13-11"><a href="#cb13-11"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>lwr.ci, <span class="at">ymax=</span>upr.ci), <span class="at">width=</span>.<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb13-12"><a href="#cb13-12"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Citation Type"</span>, <span class="at">y =</span> <span class="st">"Relative Amount"</span>) <span class="sc">+</span></span>
<span id="cb13-13"><a href="#cb13-13"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.6</span>),</span>
<span id="cb13-14"><a href="#cb13-14"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0%"</span>, <span class="st">"20%"</span>, <span class="st">"40%"</span>, <span class="st">"60%"</span>)) <span class="sc">+</span></span>
<span id="cb13-15"><a href="#cb13-15"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="st">"Distribution of Citation Types"</span>, <span class="at">nrow=</span><span class="dv">2</span>, <span class="at">scales=</span><span class="st">'free_y'</span>) <span class="ot">-&gt;</span> </span>
<span id="cb13-16"><a href="#cb13-16"></a>  p_out</span>
<span id="cb13-17"><a href="#cb13-17"></a></span>
<span id="cb13-18"><a href="#cb13-18"></a><span class="fu">ggsave</span>(<span class="st">'citation_type_amounts.jpg'</span>, p_out, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="fl">2.5</span>)</span>
<span id="cb13-19"><a href="#cb13-19"></a></span>
<span id="cb13-20"><a href="#cb13-20"></a>p_out <span class="ot">&lt;-</span> p_out <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Citation Type"</span>, <span class="at">y =</span> <span class="st">"Relative Amount"</span>,</span>
<span id="cb13-21"><a href="#cb13-21"></a>       <span class="at">caption=</span><span class="st">"Fig S1 (Article Fig 3): Relative amount of different </span></span>
<span id="cb13-22"><a href="#cb13-22"></a><span class="st">       software citation types with confidence intervals."</span>)</span>
<span id="cb13-23"><a href="#cb13-23"></a><span class="fu">print</span>(p_out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Looking at the interaction between resource type and provided meta-data in the informal mention. This allows to determine if authors provide additional meta-data missing from formal references in the articles full-text document.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Reloading the annotation data because we need the exact software mention </span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="co"># string that was removed as duplicates before</span></span>
<span id="cb14-3"><a href="#cb14-3"></a>df_citation_types <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'SoMeSci/Formal_Citation/software_citation_type_annotation.csv'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb14-5"><a href="#cb14-5"></a>    software_citation_type <span class="sc">==</span> <span class="st">'Book'</span>, </span>
<span id="cb14-6"><a href="#cb14-6"></a>    <span class="st">'Software_Article'</span>, </span>
<span id="cb14-7"><a href="#cb14-7"></a>    software_citation_type)) <span class="sc">%&gt;%</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>  <span class="fu">mutate</span>(<span class="at">paper =</span> <span class="fu">gsub</span>(</span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="st">'https://www.ncbi.nlm.nih.gov/pmc/articles/'</span>, </span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="st">''</span>, </span>
<span id="cb14-11"><a href="#cb14-11"></a>    paper)) <span class="sc">%&gt;%</span></span>
<span id="cb14-12"><a href="#cb14-12"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-13"><a href="#cb14-13"></a>  <span class="fu">filter</span>(<span class="sc">!</span>paper <span class="sc">%in%</span> creation_articles<span class="sc">$</span>creation_file_list) <span class="sc">%&gt;%</span> </span>
<span id="cb14-14"><a href="#cb14-14"></a>  <span class="fu">filter</span>(software_citation_type <span class="sc">%in%</span> order) </span>
<span id="cb14-15"><a href="#cb14-15"></a></span>
<span id="cb14-16"><a href="#cb14-16"></a><span class="co"># Loading original SoMeSci data</span></span>
<span id="cb14-17"><a href="#cb14-17"></a>df_software <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'SoMeSci/Formal_Citation/software_sparql.csv'</span>)</span>
<span id="cb14-18"><a href="#cb14-18"></a></span>
<span id="cb14-19"><a href="#cb14-19"></a><span class="co"># Matching the dataframes</span></span>
<span id="cb14-20"><a href="#cb14-20"></a>df_software <span class="sc">%&gt;%</span></span>
<span id="cb14-21"><a href="#cb14-21"></a>  <span class="fu">mutate</span>(<span class="at">article =</span> <span class="fu">gsub</span>(<span class="st">'http://data.gesis.org/somesci/'</span>, <span class="st">''</span>, article)) <span class="sc">%&gt;%</span></span>
<span id="cb14-22"><a href="#cb14-22"></a>  <span class="fu">select</span>(sw_identity, spelling, article, cit_string) <span class="sc">%&gt;%</span></span>
<span id="cb14-23"><a href="#cb14-23"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-24"><a href="#cb14-24"></a>  <span class="fu">right_join</span>(</span>
<span id="cb14-25"><a href="#cb14-25"></a>    df_citation_types, </span>
<span id="cb14-26"><a href="#cb14-26"></a>    <span class="at">by=</span><span class="fu">c</span>(<span class="st">'article'</span><span class="ot">=</span><span class="st">'paper'</span>, <span class="st">'spelling'</span><span class="ot">=</span><span class="st">'software'</span>, <span class="st">'cit_string'</span><span class="ot">=</span><span class="st">'citation'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-27"><a href="#cb14-27"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(spelling, cit_string, citation_index)) <span class="ot">-&gt;</span> </span>
<span id="cb14-28"><a href="#cb14-28"></a>  df_citations </span>
<span id="cb14-29"><a href="#cb14-29"></a></span>
<span id="cb14-30"><a href="#cb14-30"></a><span class="co"># Transforming results and calculating binomial CIs</span></span>
<span id="cb14-31"><a href="#cb14-31"></a><span class="co"># Website and Other are not included because there are to few samples</span></span>
<span id="cb14-32"><a href="#cb14-32"></a>df_software <span class="sc">%&gt;%</span></span>
<span id="cb14-33"><a href="#cb14-33"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-34"><a href="#cb14-34"></a>    <span class="at">ver_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(ver_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb14-35"><a href="#cb14-35"></a>    <span class="at">cit_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(cit_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb14-36"><a href="#cb14-36"></a>    <span class="at">dev_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(dev_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb14-37"><a href="#cb14-37"></a>    <span class="at">rel_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(rel_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb14-38"><a href="#cb14-38"></a>    <span class="at">url_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(url_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb14-39"><a href="#cb14-39"></a>    <span class="at">ext_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(ext_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb14-40"><a href="#cb14-40"></a>    <span class="at">abb_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(abb_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb14-41"><a href="#cb14-41"></a>    <span class="at">alt_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(alt_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb14-42"><a href="#cb14-42"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb14-43"><a href="#cb14-43"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-44"><a href="#cb14-44"></a>    <span class="at">ver_string =</span> <span class="fu">ifelse</span>(ver_string <span class="sc">|</span> rel_string, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>), </span>
<span id="cb14-45"><a href="#cb14-45"></a>    <span class="at">alt_string =</span> <span class="fu">ifelse</span>(abb_string <span class="sc">|</span> alt_string, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-46"><a href="#cb14-46"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(spelling, lic_string, abb_string, rel_string)) <span class="sc">%&gt;%</span></span>
<span id="cb14-47"><a href="#cb14-47"></a>  <span class="fu">group_by</span>(sw_identity, article) <span class="sc">%&gt;%</span></span>
<span id="cb14-48"><a href="#cb14-48"></a>  <span class="fu">summarize</span>(</span>
<span id="cb14-49"><a href="#cb14-49"></a>    <span class="at">ver_string =</span> <span class="fu">any</span>(ver_string),</span>
<span id="cb14-50"><a href="#cb14-50"></a>    <span class="at">dev_string =</span> <span class="fu">any</span>(dev_string),</span>
<span id="cb14-51"><a href="#cb14-51"></a>    <span class="at">cit_string =</span> <span class="fu">any</span>(cit_string),</span>
<span id="cb14-52"><a href="#cb14-52"></a>    <span class="at">url_string =</span> <span class="fu">any</span>(url_string),</span>
<span id="cb14-53"><a href="#cb14-53"></a>    <span class="at">ext_string =</span> <span class="fu">any</span>(ext_string),</span>
<span id="cb14-54"><a href="#cb14-54"></a>    <span class="at">alt_string =</span> <span class="fu">any</span>(alt_string)</span>
<span id="cb14-55"><a href="#cb14-55"></a>    , <span class="at">.groups=</span><span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-56"><a href="#cb14-56"></a>  <span class="fu">mutate</span>(<span class="at">article =</span> <span class="fu">gsub</span>(<span class="st">'http://data.gesis.org/somesci/'</span>, <span class="st">''</span>, article)) <span class="sc">%&gt;%</span></span>
<span id="cb14-57"><a href="#cb14-57"></a>  <span class="fu">left_join</span>(df_citations, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'sw_identity'</span>, <span class="st">'article'</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb14-58"><a href="#cb14-58"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-59"><a href="#cb14-59"></a>    <span class="at">software_citation_type=</span><span class="fu">ifelse</span>(</span>
<span id="cb14-60"><a href="#cb14-60"></a>      <span class="fu">is.na</span>(software_citation_type), </span>
<span id="cb14-61"><a href="#cb14-61"></a>      <span class="st">'None'</span>, </span>
<span id="cb14-62"><a href="#cb14-62"></a>      software_citation_type)) <span class="ot">-&gt;</span> df_tmp <span class="co">#%&gt;%</span></span>
<span id="cb14-63"><a href="#cb14-63"></a></span>
<span id="cb14-64"><a href="#cb14-64"></a>df_tmp <span class="sc">%&gt;%</span> </span>
<span id="cb14-65"><a href="#cb14-65"></a>  <span class="fu">filter</span>(software_citation_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'None'</span>, <span class="st">'Software_Article'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-66"><a href="#cb14-66"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(software_citation_type <span class="sc">==</span> <span class="st">'None'</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb14-67"><a href="#cb14-67"></a>  <span class="fu">mutate</span>(<span class="at">ver_string =</span> <span class="fu">ifelse</span>(ver_string, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="ot">-&gt;</span> df_test</span>
<span id="cb14-68"><a href="#cb14-68"></a></span>
<span id="cb14-69"><a href="#cb14-69"></a><span class="co"># Performing a Chi-sq test to evaluate if the probability for providing a </span></span>
<span id="cb14-70"><a href="#cb14-70"></a><span class="co"># software mention in the article full-text document differs between </span></span>
<span id="cb14-71"><a href="#cb14-71"></a><span class="co"># software cited with a software articles and software not cited at all. </span></span>
<span id="cb14-72"><a href="#cb14-72"></a><span class="co"># And assessing the extent of the effect.  </span></span>
<span id="cb14-73"><a href="#cb14-73"></a><span class="fu">nrow</span>(df_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2482</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">chisq.test</span>(df_test<span class="sc">$</span>software_citation_type, df_test<span class="sc">$</span>ver_string)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test with Yates' continuity correction

data:  df_test$software_citation_type and df_test$ver_string
X-squared = 51.807, df = 1, p-value = 6.125e-13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">cramerV</span>(df_test<span class="sc">$</span>software_citation_type, df_test<span class="sc">$</span>ver_string)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cramer V 
  0.1456 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="fu">cohenW</span>(df_test<span class="sc">$</span>software_citation_type, df_test<span class="sc">$</span>ver_string)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cohen w 
 0.1456 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>df_tmp <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="fu">group_by</span>(software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">mutate</span>(<span class="at">n_software =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="fu">group_by</span>(software_citation_type, n_software) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">8</span>, sum)) <span class="sc">%&gt;%</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>  <span class="fu">pivot_longer</span>(<span class="sc">!</span><span class="fu">c</span>(software_citation_type, n_software)) <span class="sc">%&gt;%</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>  <span class="fu">mutate</span>(<span class="at">rel=</span>value <span class="sc">/</span> n_software) <span class="sc">%&gt;%</span></span>
<span id="cb22-8"><a href="#cb22-8"></a>  <span class="fu">mutate</span>(<span class="at">MoE =</span> <span class="fu">sqrt</span>((rel <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>rel))<span class="sc">/</span>n_software) <span class="sc">*</span> <span class="fl">1.96</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-9"><a href="#cb22-9"></a>  <span class="fu">mutate</span>(<span class="at">CIl =</span> rel<span class="sc">-</span>MoE, <span class="at">CIu =</span> rel <span class="sc">+</span> MoE) <span class="sc">%&gt;%</span></span>
<span id="cb22-10"><a href="#cb22-10"></a>  <span class="fu">mutate</span>(<span class="at">rel=</span>rel<span class="sc">*</span><span class="dv">100</span>, <span class="at">CIu=</span>CIu<span class="sc">*</span><span class="dv">100</span>, <span class="at">CIl=</span>CIl<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> <span class="fu">pmin</span>(CIu, <span class="dv">100</span>), <span class="at">CIl =</span> <span class="fu">pmax</span>(CIl, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-12"><a href="#cb22-12"></a>  <span class="fu">filter</span>(<span class="sc">!</span>name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'cit_string'</span>, <span class="st">'ext_string'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-13"><a href="#cb22-13"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb22-14"><a href="#cb22-14"></a>  <span class="fu">mutate</span>(<span class="at">name=</span><span class="fu">recode</span>(name, </span>
<span id="cb22-15"><a href="#cb22-15"></a>                     <span class="at">ver_string=</span><span class="st">'Version'</span>, </span>
<span id="cb22-16"><a href="#cb22-16"></a>                     <span class="at">dev_string=</span><span class="st">'Developer'</span>, </span>
<span id="cb22-17"><a href="#cb22-17"></a>                     <span class="at">url_string=</span><span class="st">'URL'</span>, </span>
<span id="cb22-18"><a href="#cb22-18"></a>                     <span class="at">alt_string=</span><span class="st">'Alternative Name'</span>, </span>
<span id="cb22-19"><a href="#cb22-19"></a>                     <span class="at">ext_string=</span><span class="st">'Extension'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-20"><a href="#cb22-20"></a>  <span class="fu">mutate</span>(<span class="at">name=</span><span class="fu">factor</span>(name, <span class="at">level=</span><span class="fu">c</span>(<span class="st">'Version'</span>, </span>
<span id="cb22-21"><a href="#cb22-21"></a>                                   <span class="st">'Developer'</span>, </span>
<span id="cb22-22"><a href="#cb22-22"></a>                                   <span class="st">'URL'</span>, </span>
<span id="cb22-23"><a href="#cb22-23"></a>                                   <span class="st">'Alternative Name'</span>, </span>
<span id="cb22-24"><a href="#cb22-24"></a>                                   <span class="st">'Extension'</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb22-25"><a href="#cb22-25"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type=</span><span class="fu">factor</span>(</span>
<span id="cb22-26"><a href="#cb22-26"></a>    software_citation_type, </span>
<span id="cb22-27"><a href="#cb22-27"></a>    <span class="at">level=</span><span class="fu">c</span>(<span class="st">'None'</span>, <span class="st">'Software_Article'</span>, <span class="st">'Direct'</span>, </span>
<span id="cb22-28"><a href="#cb22-28"></a>            <span class="st">'Manual'</span>, <span class="st">'Website'</span>, <span class="st">'Other'</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb22-29"><a href="#cb22-29"></a>  <span class="fu">filter</span>(<span class="sc">!</span> software_citation_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Website'</span>, <span class="st">'Other'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-30"><a href="#cb22-30"></a>  <span class="fu">print</span>(., <span class="at">n=</span><span class="dv">16</span>) <span class="ot">-&gt;</span> df_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 8
   software_citation_type n_software name       value    rel     MoE   CIl   CIu
   &lt;fct&gt;                       &lt;int&gt; &lt;fct&gt;      &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Direct                        122 Version       73 59.8   0.0870  51.1  68.5 
 2 Direct                        122 Developer      9  7.38  0.0464   2.74 12.0 
 3 Direct                        122 URL            0  0     0        0     0   
 4 Direct                        122 Alternati…     1  0.820 0.0160   0     2.42
 5 Manual                         35 Version       17 48.6   0.166   32.0  65.1 
 6 Manual                         35 Developer      0  0     0        0     0   
 7 Manual                         35 URL            0  0     0        0     0   
 8 Manual                         35 Alternati…     0  0     0        0     0   
 9 None                         2102 Version     1083 51.5   0.0214  49.4  53.7 
10 None                         2102 Developer    757 36.0   0.0205  34.0  38.1 
11 None                         2102 URL          221 10.5   0.0131   9.20 11.8 
12 None                         2102 Alternati…    74  3.52  0.00788  2.73  4.31
13 Software_Article              380 Version      119 31.3   0.0466  26.7  36.0 
14 Software_Article              380 Developer     14  3.68  0.0189   1.79  5.58
15 Software_Article              380 URL           37  9.74  0.0298   6.76 12.7 
16 Software_Article              380 Alternati…    26  6.84  0.0254   4.30  9.38</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Plotting the results</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>df_plot <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="fu">ggplot</span>(., <span class="fu">aes</span>(software_citation_type,rel, <span class="at">color=</span>name)) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span>.<span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>CIl, <span class="at">ymax=</span>CIu), </span>
<span id="cb24-6"><a href="#cb24-6"></a>                <span class="at">width=</span>.<span class="dv">5</span>, <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span>.<span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Information'</span>,</span>
<span id="cb24-8"><a href="#cb24-8"></a>       <span class="at">y=</span><span class="st">'Rel. Number of Mentions (%)'</span>) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9"></a>  <span class="fu">scale_color_manual</span>(<span class="st">'Software'</span>, <span class="at">values=</span><span class="fu">c</span>(<span class="st">'#bee383'</span>, <span class="st">'#fdcb97'</span>, <span class="st">'#bdc9e1'</span>, <span class="st">'#e0c2cd'</span>)) <span class="ot">-&gt;</span> </span>
<span id="cb24-10"><a href="#cb24-10"></a>  p_out</span>
<span id="cb24-11"><a href="#cb24-11"></a></span>
<span id="cb24-12"><a href="#cb24-12"></a><span class="fu">ggsave</span>(<span class="st">'completeness_with_informal.jpg'</span>, p_out, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="fl">2.5</span>)</span>
<span id="cb24-13"><a href="#cb24-13"></a></span>
<span id="cb24-14"><a href="#cb24-14"></a>p_out <span class="ot">&lt;-</span> p_out <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S2 (Article Fig 4): Relative amount of meta-data </span></span>
<span id="cb24-15"><a href="#cb24-15"></a><span class="st">       provided with respect to the formal citation type. Software </span></span>
<span id="cb24-16"><a href="#cb24-16"></a><span class="st">       mentions that were not formally cited are aggregated under </span></span>
<span id="cb24-17"><a href="#cb24-17"></a><span class="st">       label ''None''. 95% CIs are shown."</span>)</span>
<span id="cb24-18"><a href="#cb24-18"></a><span class="fu">print</span>(p_out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="formal-software-citation-without-in-text-software-mention" class="level2">
<h2 class="anchored" data-anchor-id="formal-software-citation-without-in-text-software-mention">Formal Software Citation without in-text Software Mention</h2>
<p>All references were annotated in order to identify instances of direct software citations, manual citations, and software website citations that are not connected to an in-text software mention. Here, the amount of relevant cases is counted and set in context to the number of samples with in-text software mentions to determine how often this is actually the case in practice.</p>
<p>First, the data is loaded. Since the references were only annotated for PLoS methods and PubMed full-texts of the <a href="https://data.gesis.org/somesci/">SoMeSci</a> data set, the remaining resource type annotations are excluded.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>df_new_citation_types <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'SoMeSci/Formal_Citation/software_citation_type_annotation_without_intext_mention.csv'</span>, </span>
<span id="cb25-2"><a href="#cb25-2"></a>                                  <span class="at">show_col_types =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="fu">select</span>(<span class="sc">-</span>software)</span>
<span id="cb25-4"><a href="#cb25-4"></a>df_plos_and_pubmed <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'SoMeSci/Formal_Citation/fulltext_and_methods_list.csv'</span>, </span>
<span id="cb25-5"><a href="#cb25-5"></a>                               <span class="at">show_col_types =</span> F)</span>
<span id="cb25-6"><a href="#cb25-6"></a>df_citation_types <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'SoMeSci/Formal_Citation/software_citation_type_annotation.csv'</span>, </span>
<span id="cb25-7"><a href="#cb25-7"></a>                              <span class="at">show_col_types =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb25-8"><a href="#cb25-8"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb25-9"><a href="#cb25-9"></a>    software_citation_type <span class="sc">==</span> <span class="st">'Book'</span>, </span>
<span id="cb25-10"><a href="#cb25-10"></a>    <span class="st">'Software_Article'</span>, </span>
<span id="cb25-11"><a href="#cb25-11"></a>    software_citation_type)) <span class="sc">%&gt;%</span></span>
<span id="cb25-12"><a href="#cb25-12"></a>  <span class="fu">mutate</span>(<span class="at">paper =</span> <span class="fu">gsub</span>(<span class="st">'https://www.ncbi.nlm.nih.gov/pmc/articles/'</span>, </span>
<span id="cb25-13"><a href="#cb25-13"></a>                      <span class="st">''</span>, </span>
<span id="cb25-14"><a href="#cb25-14"></a>                      paper)) <span class="sc">%&gt;%</span></span>
<span id="cb25-15"><a href="#cb25-15"></a>  <span class="fu">select</span>(<span class="sc">-</span>software) <span class="sc">%&gt;%</span></span>
<span id="cb25-16"><a href="#cb25-16"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb25-17"><a href="#cb25-17"></a>  <span class="fu">filter</span>(paper <span class="sc">%in%</span> df_plos_and_pubmed<span class="sc">$</span>list) <span class="sc">%&gt;%</span> </span>
<span id="cb25-18"><a href="#cb25-18"></a>  <span class="fu">filter</span>(software_citation_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Direct'</span>, <span class="st">'Manual'</span>, <span class="st">'Website'</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Determining the amount of newly identified references:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>df_new_citation_types <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>  <span class="fu">group_by</span>(software_citation_type, outside) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">summarize</span>(<span class="at">n_citations=</span><span class="fu">n</span>(), <span class="at">n_articles=</span><span class="fu">n_distinct</span>(paper)) <span class="sc">%&gt;%</span> <span class="fu">print</span>(.)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 4
# Groups:   software_citation_type [3]
  software_citation_type outside n_citations n_articles
  &lt;chr&gt;                  &lt;lgl&gt;         &lt;int&gt;      &lt;int&gt;
1 Direct                 FALSE            12         11
2 Direct                 TRUE              8          7
3 Manual                 FALSE             6          6
4 Manual                 TRUE              3          3
5 Website                FALSE             3          1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>df_new_citation_types <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>  <span class="fu">filter</span>(<span class="sc">!</span>outside) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="fu">group_by</span>(reason) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>  <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">print</span>(.)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  reason            n
  &lt;chr&gt;         &lt;int&gt;
1 error             5
2 generic           4
3 non specific      3
4 not mentioned     7
5 somesci error     2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>df_new_citation_types <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>  <span class="fu">filter</span>(<span class="sc">!</span>outside) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3"></a>  <span class="fu">filter</span>(<span class="sc">!</span>reason <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'error'</span>, <span class="st">'somesci error'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4"></a>  <span class="fu">group_by</span>(software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5"></a>  <span class="fu">summarize</span>(<span class="at">n_new_citations=</span><span class="fu">n</span>(), <span class="at">n_new_articles=</span><span class="fu">n_distinct</span>(paper)) <span class="sc">%&gt;%</span> </span>
<span id="cb30-6"><a href="#cb30-6"></a>  <span class="fu">print</span>(.) <span class="ot">-&gt;</span> </span>
<span id="cb30-7"><a href="#cb30-7"></a>  df_tmp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  software_citation_type n_new_citations n_new_articles
  &lt;chr&gt;                            &lt;int&gt;          &lt;int&gt;
1 Direct                               7              7
2 Manual                               4              4
3 Website                              3              1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>df_citation_types <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2"></a>  <span class="fu">group_by</span>(software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3"></a>  <span class="fu">summarize</span>(<span class="at">n_citations=</span><span class="fu">n</span>(), <span class="at">n_articles=</span><span class="fu">n_distinct</span>(paper)) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>  <span class="fu">inner_join</span>(df_tmp, <span class="at">by=</span><span class="st">'software_citation_type'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-5"><a href="#cb32-5"></a>  <span class="fu">mutate</span>(<span class="at">rel =</span> n_new_citations <span class="sc">/</span> (n_new_citations <span class="sc">+</span> n_citations))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 6
  software_citation_type n_citations n_articles n_new_citations n_new_articles
  &lt;chr&gt;                        &lt;int&gt;      &lt;int&gt;           &lt;int&gt;          &lt;int&gt;
1 Direct                          77         55               7              7
2 Manual                          23         23               4              4
3 Website                          5          3               3              1
# ℹ 1 more variable: rel &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="citation-completeness" class="level2">
<h2 class="anchored" data-anchor-id="citation-completeness">Citation Completeness</h2>
<p>In the next analyses step the completeness of formal references is analyzed. For this purpose, meta-data contained in formal references was systematically annotated. The data is analyzed in three steps: 1. the amount of provided meta-data is analyzed directly, 2. the provided meta-data is analyzed in terms of software identification, author attribution, and code base identification, and 3. the meta-data is analyzed in combination with meta-data from informal in-text software mentions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># Aggregated data on completeness from the annotation</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>df_txt <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"SoMeSci/Formal_Citation/info_summary_txt.csv"</span>, </span>
<span id="cb34-3"><a href="#cb34-3"></a>                   <span class="at">show_col_types =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4"></a>  <span class="fu">filter</span>(<span class="sc">!</span>File <span class="sc">%in%</span> creation_articles<span class="sc">$</span>creation_file_list) </span>
<span id="cb34-5"><a href="#cb34-5"></a></span>
<span id="cb34-6"><a href="#cb34-6"></a><span class="co"># File required for mapping annotations to original SoMeSci annotation</span></span>
<span id="cb34-7"><a href="#cb34-7"></a>df_map <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"SoMeSci/Formal_Citation/original_data_matching.csv"</span>, </span>
<span id="cb34-8"><a href="#cb34-8"></a>                   <span class="at">show_col_types =</span> F) <span class="sc">%&gt;%</span> </span>
<span id="cb34-9"><a href="#cb34-9"></a>  <span class="fu">mutate</span>(<span class="at">article =</span> <span class="fu">gsub</span>(<span class="st">'https://www.ncbi.nlm.nih.gov/pmc/articles/'</span>, <span class="st">''</span>, article))</span>
<span id="cb34-10"><a href="#cb34-10"></a></span>
<span id="cb34-11"><a href="#cb34-11"></a>df_txt <span class="sc">%&lt;&gt;%</span></span>
<span id="cb34-12"><a href="#cb34-12"></a>  <span class="fu">left_join</span>(df_map, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'File'</span><span class="ot">=</span><span class="st">'article'</span>, <span class="st">'Idx'</span><span class="ot">=</span><span class="st">'citation_id'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-13"><a href="#cb34-13"></a>  <span class="fu">left_join</span>(df_new_citation_types, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'File'</span><span class="ot">=</span><span class="st">'paper'</span>, <span class="st">'Idx'</span><span class="ot">=</span><span class="st">'citation'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb34-14"><a href="#cb34-14"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb34-15"><a href="#cb34-15"></a>    <span class="fu">is.na</span>(cite_type), </span>
<span id="cb34-16"><a href="#cb34-16"></a>    software_citation_type, </span>
<span id="cb34-17"><a href="#cb34-17"></a>    cite_type)) <span class="sc">%&gt;%</span></span>
<span id="cb34-18"><a href="#cb34-18"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(cite_type, outside, reason)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol type="1">
<li>Amount of provided meta-data</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Name'</span>, <span class="st">'Identifier'</span>, <span class="st">'Archive'</span>, <span class="st">'URL'</span>, <span class="st">'Creator'</span>, <span class="st">'Version'</span>, </span>
<span id="cb35-2"><a href="#cb35-2"></a>           <span class="st">'PubDate_exact'</span>, <span class="st">'PubDate_year'</span>, <span class="st">'Date_of_access'</span>, </span>
<span id="cb35-3"><a href="#cb35-3"></a>           <span class="st">'Description'</span>, <span class="st">'Type_of_citation'</span>)</span>
<span id="cb35-4"><a href="#cb35-4"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="fu">nrow</span>(df_txt), <span class="st">" references were analyzed for completeness"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "197 references were analyzed for completeness"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>df_txt <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2"></a>  <span class="fu">rename</span>(<span class="at">Identifier=</span>ID) <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3"></a>  <span class="fu">select</span>(<span class="sc">-</span>software) <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="#cb37-4"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb37-5"><a href="#cb37-5"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb37-6"><a href="#cb37-6"></a>    software_citation_type <span class="sc">==</span> <span class="st">'Manual'</span>, </span>
<span id="cb37-7"><a href="#cb37-7"></a>    <span class="st">'Manual'</span>, </span>
<span id="cb37-8"><a href="#cb37-8"></a>    <span class="st">'Direct'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb37-9"><a href="#cb37-9"></a>  <span class="fu">group_by</span>(software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb37-10"><a href="#cb37-10"></a>  <span class="fu">mutate</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb37-11"><a href="#cb37-11"></a>  <span class="fu">group_by</span>(software_citation_type, n) <span class="sc">%&gt;%</span></span>
<span id="cb37-12"><a href="#cb37-12"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(Creator<span class="sc">:</span>License, sum)) <span class="sc">%&gt;%</span></span>
<span id="cb37-13"><a href="#cb37-13"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="sc">!</span><span class="fu">c</span>(software_citation_type, n), </span>
<span id="cb37-14"><a href="#cb37-14"></a>               <span class="at">names_to =</span> <span class="st">"info"</span>, </span>
<span id="cb37-15"><a href="#cb37-15"></a>               <span class="at">values_to =</span> <span class="st">"c"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-16"><a href="#cb37-16"></a>  <span class="fu">mutate</span>(<span class="at">rel =</span> c<span class="sc">/</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb37-17"><a href="#cb37-17"></a>  <span class="fu">mutate</span>(<span class="at">MoE =</span> <span class="fu">sqrt</span>((rel <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>rel))<span class="sc">/</span>n) <span class="sc">*</span> <span class="fl">1.96</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-18"><a href="#cb37-18"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> rel <span class="sc">+</span> MoE, <span class="at">CIl =</span> rel<span class="sc">-</span>MoE)  <span class="sc">%&gt;%</span></span>
<span id="cb37-19"><a href="#cb37-19"></a>  <span class="fu">mutate</span>(<span class="at">rel =</span> rel<span class="sc">*</span><span class="dv">100</span>, <span class="at">CIu=</span><span class="fu">pmin</span>(<span class="dv">100</span>, CIu<span class="sc">*</span><span class="dv">100</span>), <span class="at">CIl=</span><span class="fu">pmax</span>(<span class="dv">0</span>, CIl<span class="sc">*</span><span class="dv">100</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb37-20"><a href="#cb37-20"></a>  <span class="fu">filter</span>(info <span class="sc">%in%</span> order) <span class="sc">%&gt;%</span> </span>
<span id="cb37-21"><a href="#cb37-21"></a>  <span class="fu">mutate</span>(<span class="at">info=</span><span class="fu">factor</span>(info, <span class="at">levels =</span> order)) <span class="sc">%&gt;%</span></span>
<span id="cb37-22"><a href="#cb37-22"></a>  <span class="fu">mutate</span>(<span class="at">info =</span> <span class="fu">recode</span>(info, </span>
<span id="cb37-23"><a href="#cb37-23"></a>                       <span class="st">`</span><span class="at">PubDate_year</span><span class="st">`</span><span class="ot">=</span><span class="st">'Year'</span>, </span>
<span id="cb37-24"><a href="#cb37-24"></a>                       <span class="st">`</span><span class="at">PubDate_exact</span><span class="st">`</span><span class="ot">=</span><span class="st">'Date'</span>, </span>
<span id="cb37-25"><a href="#cb37-25"></a>                       <span class="st">`</span><span class="at">Date_of_access</span><span class="st">`</span><span class="ot">=</span><span class="st">'Access'</span>, </span>
<span id="cb37-26"><a href="#cb37-26"></a>                       <span class="st">`</span><span class="at">Type_of_citation</span><span class="st">`</span><span class="ot">=</span><span class="st">'Type'</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb37-27"><a href="#cb37-27"></a>  <span class="fu">print</span>(., <span class="at">n=</span><span class="dv">22</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-28"><a href="#cb37-28"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(info, rel, <span class="at">color=</span>software_citation_type)) <span class="sc">+</span> </span>
<span id="cb37-29"><a href="#cb37-29"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span>.<span class="dv">7</span>)) <span class="sc">+</span> </span>
<span id="cb37-30"><a href="#cb37-30"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>CIl, <span class="at">ymax=</span>CIu), </span>
<span id="cb37-31"><a href="#cb37-31"></a>                <span class="at">width=</span>.<span class="dv">6</span>, </span>
<span id="cb37-32"><a href="#cb37-32"></a>                <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span>.<span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb37-33"><a href="#cb37-33"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Meta-data"</span>, <span class="at">y =</span> <span class="st">"Relative Amount"</span>) <span class="sc">+</span></span>
<span id="cb37-34"><a href="#cb37-34"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">'#a6bae1'</span>, <span class="st">'#bee383'</span>)) <span class="sc">+</span></span>
<span id="cb37-35"><a href="#cb37-35"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">80</span>, <span class="dv">100</span>),</span>
<span id="cb37-36"><a href="#cb37-36"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0%"</span>, <span class="st">"20%"</span>, <span class="st">"40%"</span>, <span class="st">"60%"</span>, <span class="st">"80%"</span>, <span class="st">"100%"</span>)) <span class="sc">+</span></span>
<span id="cb37-37"><a href="#cb37-37"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">nrow=</span><span class="dv">1</span>, <span class="at">title=</span><span class="st">"Citation Type"</span>)) <span class="sc">+</span></span>
<span id="cb37-38"><a href="#cb37-38"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> <span class="st">"Amount of provided meta-data"</span>) <span class="ot">-&gt;</span> p_out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 22 × 8
# Groups:   software_citation_type [2]
   software_citation_type     n info            c    rel    MoE    CIu   CIl
   &lt;chr&gt;                  &lt;int&gt; &lt;fct&gt;       &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
 1 Direct                   151 Creator       138 91.4   0.0447  95.9   86.9
 2 Direct                   151 Name          143 94.7   0.0357  98.3   91.1
 3 Direct                   151 Archive         1  0.662 0.0129   1.96   0  
 4 Direct                   151 Year          129 85.4   0.0563  91.1   79.8
 5 Direct                   151 Date            3  1.99  0.0223   4.21   0  
 6 Direct                   151 Identifier      2  1.32  0.0182   3.15   0  
 7 Direct                   151 URL            62 41.1   0.0785  48.9   33.2
 8 Direct                   151 Version        98 64.9   0.0761  72.5   57.3
 9 Direct                   151 Access         25 16.6   0.0593  22.5   10.6
10 Direct                   151 Type           40 26.5   0.0704  33.5   19.5
11 Direct                   151 Description    76 50.3   0.0797  58.3   42.4
12 Manual                    44 Creator        43 97.7   0.0440 100     93.3
13 Manual                    44 Name           40 90.9   0.0849  99.4   82.4
14 Manual                    44 Archive         0  0     0        0      0  
15 Manual                    44 Year           43 97.7   0.0440 100     93.3
16 Manual                    44 Date            0  0     0        0      0  
17 Manual                    44 Identifier      0  0     0        0      0  
18 Manual                    44 URL            16 36.4   0.142   50.6   22.1
19 Manual                    44 Version        11 25     0.128   37.8   12.2
20 Manual                    44 Access          2  4.55  0.0615  10.7    0  
21 Manual                    44 Type           16 36.4   0.142   50.6   22.1
22 Manual                    44 Description    26 59.1   0.145   73.6   44.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">ggsave</span>(<span class="st">'completeness_info.jpg'</span>, p_out, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="fl">2.5</span>)</span>
<span id="cb39-2"><a href="#cb39-2"></a></span>
<span id="cb39-3"><a href="#cb39-3"></a>p_out <span class="ot">&lt;-</span> p_out <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S3 (Article Fig 5): Relative citation completeness with 95% CIs."</span>)</span>
<span id="cb39-4"><a href="#cb39-4"></a><span class="fu">print</span>(p_out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="2" type="1">
<li>Identification, attribution, code base</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>order <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'identifiable_creator'</span>, </span>
<span id="cb40-2"><a href="#cb40-2"></a>          <span class="st">'identifiable_id'</span>, </span>
<span id="cb40-3"><a href="#cb40-3"></a>          <span class="st">'identifiable_archive'</span>, </span>
<span id="cb40-4"><a href="#cb40-4"></a>          <span class="st">'identifiable_precise'</span>,</span>
<span id="cb40-5"><a href="#cb40-5"></a>          <span class="st">'identifiable_url'</span>,</span>
<span id="cb40-6"><a href="#cb40-6"></a>          <span class="st">'identifiable_imprecise'</span>,</span>
<span id="cb40-7"><a href="#cb40-7"></a>          <span class="st">'creator_attribution'</span>,</span>
<span id="cb40-8"><a href="#cb40-8"></a>          <span class="st">'codebase_version'</span>,</span>
<span id="cb40-9"><a href="#cb40-9"></a>          <span class="st">'codebase_release'</span>,</span>
<span id="cb40-10"><a href="#cb40-10"></a>          <span class="st">'codebase_precise'</span>,</span>
<span id="cb40-11"><a href="#cb40-11"></a>          <span class="st">'codebase_doa'</span>,</span>
<span id="cb40-12"><a href="#cb40-12"></a>          <span class="st">'codebase_imprecise'</span>)</span>
<span id="cb40-13"><a href="#cb40-13"></a></span>
<span id="cb40-14"><a href="#cb40-14"></a>order_n <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'creator'</span>, </span>
<span id="cb40-15"><a href="#cb40-15"></a>          <span class="st">'id'</span>, </span>
<span id="cb40-16"><a href="#cb40-16"></a>          <span class="st">'archive'</span>,</span>
<span id="cb40-17"><a href="#cb40-17"></a>          <span class="st">'version'</span>, </span>
<span id="cb40-18"><a href="#cb40-18"></a>          <span class="st">'release'</span>,</span>
<span id="cb40-19"><a href="#cb40-19"></a>          <span class="st">'precise'</span>,</span>
<span id="cb40-20"><a href="#cb40-20"></a>          <span class="st">'url'</span>,</span>
<span id="cb40-21"><a href="#cb40-21"></a>          <span class="st">'doa'</span>,</span>
<span id="cb40-22"><a href="#cb40-22"></a>          <span class="st">'imprecise'</span>,</span>
<span id="cb40-23"><a href="#cb40-23"></a>          <span class="st">'attribution'</span>)</span>
<span id="cb40-24"><a href="#cb40-24"></a></span>
<span id="cb40-25"><a href="#cb40-25"></a><span class="co"># Identifiability of software</span></span>
<span id="cb40-26"><a href="#cb40-26"></a>df_txt <span class="sc">%&gt;%</span></span>
<span id="cb40-27"><a href="#cb40-27"></a>  <span class="fu">mutate</span>(<span class="at">identifiable_creator=</span>Name <span class="sc">&amp;</span> Creator) <span class="sc">%&gt;%</span></span>
<span id="cb40-28"><a href="#cb40-28"></a>  <span class="fu">mutate</span>(<span class="at">identifiable_id=</span>ID) <span class="sc">%&gt;%</span></span>
<span id="cb40-29"><a href="#cb40-29"></a>  <span class="fu">mutate</span>(<span class="at">identifiable_archive=</span>Archive) <span class="sc">%&gt;%</span></span>
<span id="cb40-30"><a href="#cb40-30"></a>  <span class="fu">mutate</span>(<span class="at">identifiable_precise=</span>identifiable_creator <span class="sc">|</span> </span>
<span id="cb40-31"><a href="#cb40-31"></a>           identifiable_id <span class="sc">|</span> </span>
<span id="cb40-32"><a href="#cb40-32"></a>           identifiable_archive) <span class="sc">%&gt;%</span></span>
<span id="cb40-33"><a href="#cb40-33"></a>  <span class="fu">mutate</span>(<span class="at">identifiable_url=</span>URL) <span class="sc">%&gt;%</span></span>
<span id="cb40-34"><a href="#cb40-34"></a>  <span class="fu">mutate</span>(<span class="at">identifiable_imprecise=</span>identifiable_precise <span class="sc">|</span> identifiable_url) <span class="ot">-&gt;</span> </span>
<span id="cb40-35"><a href="#cb40-35"></a>  df_tmp</span>
<span id="cb40-36"><a href="#cb40-36"></a></span>
<span id="cb40-37"><a href="#cb40-37"></a><span class="co"># Creator attribution</span></span>
<span id="cb40-38"><a href="#cb40-38"></a>df_tmp <span class="sc">%&lt;&gt;%</span></span>
<span id="cb40-39"><a href="#cb40-39"></a>  <span class="fu">mutate</span>(<span class="at">creator_attribution=</span>identifiable_creator) </span>
<span id="cb40-40"><a href="#cb40-40"></a></span>
<span id="cb40-41"><a href="#cb40-41"></a><span class="co"># Code base identification</span></span>
<span id="cb40-42"><a href="#cb40-42"></a>df_tmp <span class="sc">%&lt;&gt;%</span> </span>
<span id="cb40-43"><a href="#cb40-43"></a>  <span class="fu">mutate</span>(<span class="at">codebase_release=</span>PubDate_exact <span class="sc">&amp;</span> identifiable_imprecise) <span class="sc">%&gt;%</span> </span>
<span id="cb40-44"><a href="#cb40-44"></a>  <span class="fu">mutate</span>(<span class="at">codebase_version=</span>Version <span class="sc">&amp;</span> identifiable_imprecise) <span class="sc">%&gt;%</span></span>
<span id="cb40-45"><a href="#cb40-45"></a>  <span class="fu">mutate</span>(<span class="at">codebase_precise=</span>codebase_release <span class="sc">|</span> codebase_version) <span class="sc">%&gt;%</span></span>
<span id="cb40-46"><a href="#cb40-46"></a>  <span class="fu">mutate</span>(<span class="at">codebase_doa=</span>Date_of_access <span class="sc">&amp;</span> identifiable_imprecise) <span class="sc">%&gt;%</span></span>
<span id="cb40-47"><a href="#cb40-47"></a>  <span class="fu">mutate</span>(<span class="at">codebase_imprecise=</span>codebase_precise <span class="sc">|</span> codebase_doa) </span>
<span id="cb40-48"><a href="#cb40-48"></a></span>
<span id="cb40-49"><a href="#cb40-49"></a><span class="co"># Plotting</span></span>
<span id="cb40-50"><a href="#cb40-50"></a>df_tmp <span class="sc">%&gt;%</span></span>
<span id="cb40-51"><a href="#cb40-51"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(software, Creator, Name, Archive, PubDate_year, PubDate_exact, </span>
<span id="cb40-52"><a href="#cb40-52"></a>            PubDate_nd, ID, URL, Version, Date_of_access, Type_of_citation, </span>
<span id="cb40-53"><a href="#cb40-53"></a>            Description, License)) <span class="sc">%&gt;%</span></span>
<span id="cb40-54"><a href="#cb40-54"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb40-55"><a href="#cb40-55"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb40-56"><a href="#cb40-56"></a>    software_citation_type <span class="sc">==</span> <span class="st">'Manual'</span>, </span>
<span id="cb40-57"><a href="#cb40-57"></a>    <span class="st">'Manual'</span>, </span>
<span id="cb40-58"><a href="#cb40-58"></a>    <span class="st">'Direct'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb40-59"><a href="#cb40-59"></a>  <span class="fu">group_by</span>(software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb40-60"><a href="#cb40-60"></a>  <span class="fu">mutate</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb40-61"><a href="#cb40-61"></a>  <span class="fu">group_by</span>(software_citation_type, n) <span class="sc">%&gt;%</span></span>
<span id="cb40-62"><a href="#cb40-62"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(identifiable_creator<span class="sc">:</span>codebase_imprecise, sum)) <span class="sc">%&gt;%</span></span>
<span id="cb40-63"><a href="#cb40-63"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="sc">!</span><span class="fu">c</span>(software_citation_type, n), </span>
<span id="cb40-64"><a href="#cb40-64"></a>               <span class="at">names_to =</span> <span class="st">"info"</span>, </span>
<span id="cb40-65"><a href="#cb40-65"></a>               <span class="at">values_to =</span> <span class="st">"c"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-66"><a href="#cb40-66"></a>  <span class="fu">mutate</span>(<span class="at">rel =</span> c<span class="sc">/</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb40-67"><a href="#cb40-67"></a>  <span class="fu">mutate</span>(<span class="at">MoE =</span> <span class="fu">sqrt</span>((rel <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>rel))<span class="sc">/</span>n) <span class="sc">*</span> <span class="fl">1.96</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-68"><a href="#cb40-68"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> rel <span class="sc">+</span> MoE, <span class="at">CIl =</span> rel<span class="sc">-</span>MoE)  <span class="sc">%&gt;%</span></span>
<span id="cb40-69"><a href="#cb40-69"></a>  <span class="fu">mutate</span>(<span class="at">rel =</span> rel<span class="sc">*</span><span class="dv">100</span>, <span class="at">CIu=</span><span class="fu">pmin</span>(CIu<span class="sc">*</span><span class="dv">100</span>, <span class="dv">100</span>), <span class="at">CIl=</span><span class="fu">pmax</span>(CIl<span class="sc">*</span><span class="dv">100</span>,<span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb40-70"><a href="#cb40-70"></a>  <span class="fu">mutate</span>(<span class="at">info =</span> <span class="fu">factor</span>(info, <span class="at">levels =</span> order)) <span class="sc">%&gt;%</span> </span>
<span id="cb40-71"><a href="#cb40-71"></a>  <span class="fu">separate</span>(info, <span class="at">sep=</span><span class="st">'_'</span>, <span class="at">into=</span><span class="fu">c</span>(<span class="st">'Problem'</span>, <span class="st">'quality'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb40-72"><a href="#cb40-72"></a>  <span class="fu">mutate</span>(<span class="at">quality =</span> <span class="fu">factor</span>(quality, <span class="at">levels=</span>order_n)) <span class="sc">%&gt;%</span></span>
<span id="cb40-73"><a href="#cb40-73"></a>  <span class="fu">mutate</span>(<span class="at">Problem =</span> <span class="fu">factor</span>(Problem, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'identifiable'</span>, </span>
<span id="cb40-74"><a href="#cb40-74"></a>                                            <span class="st">'creator'</span>, </span>
<span id="cb40-75"><a href="#cb40-75"></a>                                            <span class="st">'codebase'</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb40-76"><a href="#cb40-76"></a>  <span class="fu">print</span>(., <span class="at">n=</span><span class="dv">24</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-77"><a href="#cb40-77"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(quality, rel, <span class="at">color=</span>software_citation_type)) <span class="sc">+</span> </span>
<span id="cb40-78"><a href="#cb40-78"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span>.<span class="dv">7</span>)) <span class="sc">+</span> </span>
<span id="cb40-79"><a href="#cb40-79"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>CIl, <span class="at">ymax=</span>CIu), </span>
<span id="cb40-80"><a href="#cb40-80"></a>                <span class="at">width=</span>.<span class="dv">6</span>, </span>
<span id="cb40-81"><a href="#cb40-81"></a>                <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span>.<span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb40-82"><a href="#cb40-82"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Identifiability"</span>, <span class="at">y =</span> <span class="st">"Relative Amount"</span>) <span class="sc">+</span></span>
<span id="cb40-83"><a href="#cb40-83"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">'#a6bae1'</span>, <span class="st">'#bee383'</span>)) <span class="sc">+</span></span>
<span id="cb40-84"><a href="#cb40-84"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">60</span>, <span class="dv">80</span>, <span class="dv">100</span>),</span>
<span id="cb40-85"><a href="#cb40-85"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"0%"</span>, <span class="st">"20%"</span>, <span class="st">"40%"</span>, <span class="st">"60%"</span>, <span class="st">"80%"</span>, <span class="st">"100%"</span>)) <span class="sc">+</span></span>
<span id="cb40-86"><a href="#cb40-86"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">nrow=</span><span class="dv">1</span>, <span class="at">title=</span><span class="st">"Citation Type"</span>)) <span class="sc">+</span></span>
<span id="cb40-87"><a href="#cb40-87"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>Problem, <span class="at">scales =</span> <span class="st">"free_x"</span>, <span class="at">space=</span><span class="st">'free_x'</span>) <span class="ot">-&gt;</span> p_out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 9
# Groups:   software_citation_type [2]
   software_citation_type     n Problem quality     c    rel    MoE    CIu   CIl
   &lt;chr&gt;                  &lt;int&gt; &lt;fct&gt;   &lt;fct&gt;   &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
 1 Direct                   151 identi… creator   132 87.4   0.0529  92.7   82.1
 2 Direct                   151 identi… id          2  1.32  0.0182   3.15   0  
 3 Direct                   151 identi… archive     1  0.662 0.0129   1.96   0  
 4 Direct                   151 identi… precise   132 87.4   0.0529  92.7   82.1
 5 Direct                   151 identi… url        62 41.1   0.0785  48.9   33.2
 6 Direct                   151 identi… imprec…   149 98.7   0.0182 100     96.9
 7 Direct                   151 creator attrib…   132 87.4   0.0529  92.7   82.1
 8 Direct                   151 codeba… release     3  1.99  0.0223   4.21   0  
 9 Direct                   151 codeba… version    97 64.2   0.0764  71.9   56.6
10 Direct                   151 codeba… precise    99 65.6   0.0758  73.1   58.0
11 Direct                   151 codeba… doa        25 16.6   0.0593  22.5   10.6
12 Direct                   151 codeba… imprec…   111 73.5   0.0704  80.5   66.5
13 Manual                    44 identi… creator    39 88.6   0.0938  98.0   79.3
14 Manual                    44 identi… id          0  0     0        0      0  
15 Manual                    44 identi… archive     0  0     0        0      0  
16 Manual                    44 identi… precise    39 88.6   0.0938  98.0   79.3
17 Manual                    44 identi… url        16 36.4   0.142   50.6   22.1
18 Manual                    44 identi… imprec…    42 95.5   0.0615 100     89.3
19 Manual                    44 creator attrib…    39 88.6   0.0938  98.0   79.3
20 Manual                    44 codeba… release     0  0     0        0      0  
21 Manual                    44 codeba… version    11 25     0.128   37.8   12.2
22 Manual                    44 codeba… precise    11 25     0.128   37.8   12.2
23 Manual                    44 codeba… doa         2  4.55  0.0615  10.7    0  
24 Manual                    44 codeba… imprec…    12 27.3   0.132   40.4   14.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">ggsave</span>(<span class="st">'completeness_identification.jpg'</span>, p_out, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="fl">2.5</span>)</span>
<span id="cb42-2"><a href="#cb42-2"></a></span>
<span id="cb42-3"><a href="#cb42-3"></a>p_out <span class="ot">&lt;-</span> p_out <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S4 (Article Fig 6): Relative citation completeness </span></span>
<span id="cb42-4"><a href="#cb42-4"></a><span class="st">       with confidence intervals. Regarding software identification, </span></span>
<span id="cb42-5"><a href="#cb42-5"></a><span class="st">       ''precise'' describes cases in which software is clearly </span></span>
<span id="cb42-6"><a href="#cb42-6"></a><span class="st">       identifiable, while ''imprecise'' includes cases where only a URL </span></span>
<span id="cb42-7"><a href="#cb42-7"></a><span class="st">       is provided as identifier, which is considered as unsuited to </span></span>
<span id="cb42-8"><a href="#cb42-8"></a><span class="st">       clearly identify a software with details outlined in the article.</span></span>
<span id="cb42-9"><a href="#cb42-9"></a><span class="st">       Regarding codebase identification, the categories are defined </span></span>
<span id="cb42-10"><a href="#cb42-10"></a><span class="st">       similarly, with ''imprecise'' including cases where only a </span></span>
<span id="cb42-11"><a href="#cb42-11"></a><span class="st">       Date of Access is provided."</span>)</span>
<span id="cb42-12"><a href="#cb42-12"></a><span class="fu">print</span>(p_out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="3" type="1">
<li>Informal and formal meta-data</li>
</ol>
<p>This step aggregates over formally and informally provided meta-data in order to determine the overall completeness. Therefore, this step is only performed for samples that have in-text software mentions and excluding the additional samples identified in the previous step.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># Mapping all software names </span></span>
<span id="cb43-2"><a href="#cb43-2"></a>df_software <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3"></a>  <span class="fu">select</span>(sw_identity, spelling) <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="#cb43-4"></a>  <span class="fu">distinct</span>() <span class="ot">-&gt;</span> df_spell_map</span>
<span id="cb43-5"><a href="#cb43-5"></a></span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="co"># Transforming the original SoMeSci information</span></span>
<span id="cb43-7"><a href="#cb43-7"></a>df_software <span class="sc">%&gt;%</span></span>
<span id="cb43-8"><a href="#cb43-8"></a>  <span class="fu">mutate</span>(</span>
<span id="cb43-9"><a href="#cb43-9"></a>    <span class="at">ver_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(ver_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb43-10"><a href="#cb43-10"></a>    <span class="at">dev_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(dev_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb43-11"><a href="#cb43-11"></a>    <span class="at">rel_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(rel_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb43-12"><a href="#cb43-12"></a>    <span class="at">url_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(url_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb43-13"><a href="#cb43-13"></a>    <span class="at">ext_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(ext_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb43-14"><a href="#cb43-14"></a>    <span class="at">abb_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(abb_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb43-15"><a href="#cb43-15"></a>    <span class="at">alt_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(alt_string), <span class="cn">FALSE</span>, <span class="cn">TRUE</span>),</span>
<span id="cb43-16"><a href="#cb43-16"></a>    <span class="at">cit_string =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(cit_string), <span class="st">''</span>, cit_string)</span>
<span id="cb43-17"><a href="#cb43-17"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb43-18"><a href="#cb43-18"></a>  <span class="fu">mutate</span>(<span class="at">ver_string =</span> <span class="fu">ifelse</span>(</span>
<span id="cb43-19"><a href="#cb43-19"></a>    ver_string <span class="sc">|</span> rel_string, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>), </span>
<span id="cb43-20"><a href="#cb43-20"></a>    <span class="at">alt_string =</span> <span class="fu">ifelse</span>(abb_string <span class="sc">|</span> alt_string, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb43-21"><a href="#cb43-21"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(spelling, lic_string, abb_string, rel_string)) <span class="sc">%&gt;%</span></span>
<span id="cb43-22"><a href="#cb43-22"></a>  <span class="fu">group_by</span>(sw_identity, article) <span class="sc">%&gt;%</span></span>
<span id="cb43-23"><a href="#cb43-23"></a>  <span class="fu">summarize</span>(</span>
<span id="cb43-24"><a href="#cb43-24"></a>    <span class="at">ver_string =</span> <span class="fu">any</span>(ver_string),</span>
<span id="cb43-25"><a href="#cb43-25"></a>    <span class="at">dev_string =</span> <span class="fu">any</span>(dev_string),</span>
<span id="cb43-26"><a href="#cb43-26"></a>    <span class="at">url_string =</span> <span class="fu">any</span>(url_string),</span>
<span id="cb43-27"><a href="#cb43-27"></a>    <span class="at">ext_string =</span> <span class="fu">any</span>(ext_string),</span>
<span id="cb43-28"><a href="#cb43-28"></a>    <span class="at">alt_string =</span> <span class="fu">any</span>(alt_string),</span>
<span id="cb43-29"><a href="#cb43-29"></a>    <span class="at">cit_string =</span> <span class="fu">max</span>(cit_string)</span>
<span id="cb43-30"><a href="#cb43-30"></a>    , <span class="at">.groups=</span><span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-31"><a href="#cb43-31"></a>  <span class="fu">mutate</span>(<span class="at">article =</span> <span class="fu">gsub</span>(<span class="st">'http://data.gesis.org/somesci/'</span>, <span class="st">''</span>, article)) <span class="sc">%&gt;%</span></span>
<span id="cb43-32"><a href="#cb43-32"></a>  <span class="fu">filter</span>(cit_string <span class="sc">!=</span> <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-33"><a href="#cb43-33"></a>  <span class="fu">distinct</span>() <span class="ot">-&gt;</span> df_tmp</span>
<span id="cb43-34"><a href="#cb43-34"></a></span>
<span id="cb43-35"><a href="#cb43-35"></a>df_txt <span class="sc">%&gt;%</span></span>
<span id="cb43-36"><a href="#cb43-36"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(Name, Archive, PubDate_year, PubDate_exact, PubDate_nd, ID, </span>
<span id="cb43-37"><a href="#cb43-37"></a>            Date_of_access, Type_of_citation, Description, License)) <span class="sc">%&gt;%</span></span>
<span id="cb43-38"><a href="#cb43-38"></a>  <span class="fu">inner_join</span>(df_spell_map, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'software'</span><span class="ot">=</span><span class="st">'spelling'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb43-39"><a href="#cb43-39"></a>  <span class="fu">inner_join</span>(df_tmp, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'File'</span><span class="ot">=</span><span class="st">'article'</span>, </span>
<span id="cb43-40"><a href="#cb43-40"></a>                          <span class="st">'original_cite'</span><span class="ot">=</span><span class="st">'cit_string'</span>, </span>
<span id="cb43-41"><a href="#cb43-41"></a>                          <span class="st">'sw_identity'</span><span class="ot">=</span><span class="st">'sw_identity'</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-42"><a href="#cb43-42"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(alt_string, ext_string, software, sw_identity)) <span class="sc">%&gt;%</span></span>
<span id="cb43-43"><a href="#cb43-43"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb43-44"><a href="#cb43-44"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(Manual, original_cite, cite_idx)) <span class="sc">%&gt;%</span></span>
<span id="cb43-45"><a href="#cb43-45"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb43-46"><a href="#cb43-46"></a>    software_citation_type <span class="sc">==</span> <span class="st">'Manual'</span>, </span>
<span id="cb43-47"><a href="#cb43-47"></a>    <span class="st">'Manual'</span>, </span>
<span id="cb43-48"><a href="#cb43-48"></a>    <span class="st">'Direct'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb43-49"><a href="#cb43-49"></a>  <span class="fu">group_by</span>(software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb43-50"><a href="#cb43-50"></a>  <span class="fu">mutate</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb43-51"><a href="#cb43-51"></a>  <span class="fu">rename</span>(<span class="at">Version_informal=</span>ver_string, </span>
<span id="cb43-52"><a href="#cb43-52"></a>         <span class="at">Developer_informal=</span>dev_string, </span>
<span id="cb43-53"><a href="#cb43-53"></a>         <span class="at">URL_informal=</span>url_string) <span class="sc">%&gt;%</span></span>
<span id="cb43-54"><a href="#cb43-54"></a>  <span class="fu">rename</span>(<span class="at">Version_formal=</span>Version, </span>
<span id="cb43-55"><a href="#cb43-55"></a>         <span class="at">Developer_formal=</span>Creator, </span>
<span id="cb43-56"><a href="#cb43-56"></a>         <span class="at">URL_formal=</span>URL) <span class="sc">%&gt;%</span></span>
<span id="cb43-57"><a href="#cb43-57"></a>  <span class="fu">mutate</span>(<span class="at">Version_overall =</span> Version_formal <span class="sc">|</span> Version_informal, </span>
<span id="cb43-58"><a href="#cb43-58"></a>         <span class="at">Developer_overall =</span> Developer_formal <span class="sc">|</span> Developer_informal, </span>
<span id="cb43-59"><a href="#cb43-59"></a>         <span class="at">URL_overall =</span> URL_formal <span class="sc">|</span> URL_informal) <span class="sc">%&gt;%</span></span>
<span id="cb43-60"><a href="#cb43-60"></a>  <span class="fu">group_by</span>(software_citation_type, n) <span class="sc">%&gt;%</span></span>
<span id="cb43-61"><a href="#cb43-61"></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="sc">!</span><span class="fu">c</span>(File, Idx), sum)) <span class="sc">%&gt;%</span></span>
<span id="cb43-62"><a href="#cb43-62"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="sc">!</span><span class="fu">c</span>(software_citation_type, n), </span>
<span id="cb43-63"><a href="#cb43-63"></a>               <span class="at">names_to =</span> <span class="st">"info"</span>, </span>
<span id="cb43-64"><a href="#cb43-64"></a>               <span class="at">values_to =</span> <span class="st">"c"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-65"><a href="#cb43-65"></a>  <span class="fu">mutate</span>(<span class="at">rel =</span> c<span class="sc">/</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb43-66"><a href="#cb43-66"></a>  <span class="fu">mutate</span>(<span class="at">MoE =</span> <span class="fu">sqrt</span>((rel <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>rel))<span class="sc">/</span>n) <span class="sc">*</span> <span class="fl">1.96</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-67"><a href="#cb43-67"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> rel <span class="sc">+</span> MoE, <span class="at">CIl =</span> rel<span class="sc">-</span>MoE)  <span class="sc">%&gt;%</span></span>
<span id="cb43-68"><a href="#cb43-68"></a>  <span class="fu">mutate</span>(<span class="at">rel =</span> rel<span class="sc">*</span><span class="dv">100</span>, <span class="at">CIu=</span>CIu<span class="sc">*</span><span class="dv">100</span>, <span class="at">CIl=</span><span class="fu">pmax</span>(<span class="dv">0</span>, CIl<span class="sc">*</span><span class="dv">100</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb43-69"><a href="#cb43-69"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> <span class="fu">pmin</span>(CIu, <span class="dv">100</span>), <span class="at">CIl =</span> <span class="fu">pmax</span>(CIl, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb43-70"><a href="#cb43-70"></a>  <span class="fu">separate</span>(info, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">'Metadata'</span>, <span class="st">'Citation Type'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb43-71"><a href="#cb43-71"></a>  <span class="fu">mutate</span>(<span class="at">Metadata=</span><span class="fu">factor</span>(Metadata, </span>
<span id="cb43-72"><a href="#cb43-72"></a>                         <span class="at">level=</span><span class="fu">c</span>(<span class="st">'Developer'</span>, <span class="st">'Version'</span>, <span class="st">'URL'</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb43-73"><a href="#cb43-73"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(c, n)) <span class="sc">%&gt;%</span></span>
<span id="cb43-74"><a href="#cb43-74"></a>  <span class="fu">print</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb43-75"><a href="#cb43-75"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(Metadata, rel, <span class="at">color=</span><span class="st">`</span><span class="at">Citation Type</span><span class="st">`</span>)) <span class="sc">+</span> </span>
<span id="cb43-76"><a href="#cb43-76"></a>  <span class="fu">geom_point</span>(<span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span>.<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb43-77"><a href="#cb43-77"></a>  <span class="fu">geom_errorbar</span>(<span class="fu">aes</span>(<span class="at">ymin=</span>CIl, <span class="at">ymax=</span>CIu), </span>
<span id="cb43-78"><a href="#cb43-78"></a>                <span class="at">width=</span>.<span class="dv">4</span>, </span>
<span id="cb43-79"><a href="#cb43-79"></a>                <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span>.<span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb43-80"><a href="#cb43-80"></a>  <span class="fu">labs</span>(<span class="at">x=</span><span class="st">'Information'</span>,</span>
<span id="cb43-81"><a href="#cb43-81"></a>       <span class="at">y=</span><span class="st">'Relative Number of Mentions (%)'</span>,</span>
<span id="cb43-82"><a href="#cb43-82"></a>       <span class="at">caption=</span><span class="st">"Figure S5: Relative citation completeness for direct citation and </span></span>
<span id="cb43-83"><a href="#cb43-83"></a><span class="st">       manual citation with respect to developer, version, and URL, considering </span></span>
<span id="cb43-84"><a href="#cb43-84"></a><span class="st">       formally provided, informally provided information, and their combination."</span>) <span class="sc">+</span></span>
<span id="cb43-85"><a href="#cb43-85"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span><span class="fu">c</span>(<span class="st">'#a1dab4'</span>, <span class="st">'#41b6c4'</span>, <span class="st">'#225ea8'</span>)) <span class="sc">+</span></span>
<span id="cb43-86"><a href="#cb43-86"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>software_citation_type) <span class="ot">-&gt;</span> p_out</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 18 × 7
# Groups:   software_citation_type [2]
   software_citation_type Metadata  `Citation Type`    rel    MoE   CIu    CIl
   &lt;chr&gt;                  &lt;fct&gt;     &lt;chr&gt;            &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1 Direct                 Developer formal           93.8  0.0413  98.0  89.7 
 2 Direct                 URL       formal           38.5  0.0836  46.8  30.1 
 3 Direct                 Version   formal           66.9  0.0809  75.0  58.8 
 4 Direct                 Version   informal         58.5  0.0847  66.9  50.0 
 5 Direct                 Developer informal          6.92 0.0436  11.3   2.56
 6 Direct                 URL       informal          0    0        0     0   
 7 Direct                 Version   overall          80    0.0688  86.9  73.1 
 8 Direct                 Developer overall          93.8  0.0413  98.0  89.7 
 9 Direct                 URL       overall          38.5  0.0836  46.8  30.1 
10 Manual                 Developer formal          100    0      100   100   
11 Manual                 URL       formal           38.2  0.163   54.6  21.9 
12 Manual                 Version   formal           26.5  0.148   41.3  11.6 
13 Manual                 Version   informal         47.1  0.168   63.8  30.3 
14 Manual                 Developer informal          0    0        0     0   
15 Manual                 URL       informal          0    0        0     0   
16 Manual                 Version   overall          55.9  0.167   72.6  39.2 
17 Manual                 Developer overall         100    0      100   100   
18 Manual                 URL       overall          38.2  0.163   54.6  21.9 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">print</span>(p_out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">ggsave</span>(<span class="st">'completeness_metadata_with_informal.jpg'</span>, p_out, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="fl">2.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="database-representation" class="level2">
<h2 class="anchored" data-anchor-id="database-representation">Database Representation</h2>
<p>The database representation of formal software citations, manuals, and software websites was systematically annotated for the publisher’s JATS XML representation, and the Semantic Scholar and Crossref entries. Aside from annotation if specific information is available it was also annotated if the information is structured, and whether it is correct. The corresponding references are analyzed by directly comparing their representation between the three sources.</p>
<p>First, the required data is loaded. This is more complex as before as separate data for each representation is loaded and then matched together. Moreover, here it is not filtered for arrticles from the SoMeSci Creation sentences because they do not add a bias as we are only interested in how well they entries are represented and we can increase the sample size by adding them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="co"># Loading required functions for plotting and output, </span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="co"># that are too long for this file. </span></span>
<span id="cb47-3"><a href="#cb47-3"></a><span class="fu">source</span>(<span class="st">"plot_function.R"</span>)</span>
<span id="cb47-4"><a href="#cb47-4"></a></span>
<span id="cb47-5"><a href="#cb47-5"></a><span class="co"># Aggregated data on completeness from the annotation</span></span>
<span id="cb47-6"><a href="#cb47-6"></a>df_txt <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"SoMeSci/Formal_Citation/info_summary_txt.csv"</span>, </span>
<span id="cb47-7"><a href="#cb47-7"></a>                   <span class="at">show_col_types =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb47-8"><a href="#cb47-8"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="st">"TXT"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-9"><a href="#cb47-9"></a>  <span class="fu">left_join</span>(df_map, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'File'</span><span class="ot">=</span><span class="st">'article'</span>, <span class="st">'Idx'</span><span class="ot">=</span><span class="st">'citation_id'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb47-10"><a href="#cb47-10"></a>  <span class="fu">left_join</span>(df_new_citation_types, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'File'</span><span class="ot">=</span><span class="st">'paper'</span>,</span>
<span id="cb47-11"><a href="#cb47-11"></a>                                        <span class="st">'Idx'</span><span class="ot">=</span><span class="st">'citation'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb47-12"><a href="#cb47-12"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb47-13"><a href="#cb47-13"></a>    <span class="fu">is.na</span>(cite_type),</span>
<span id="cb47-14"><a href="#cb47-14"></a>    software_citation_type, </span>
<span id="cb47-15"><a href="#cb47-15"></a>    cite_type)) <span class="sc">%&gt;%</span></span>
<span id="cb47-16"><a href="#cb47-16"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(cite_type, outside, reason, software)) <span class="sc">%&gt;%</span> </span>
<span id="cb47-17"><a href="#cb47-17"></a>  <span class="fu">distinct</span>()</span>
<span id="cb47-18"><a href="#cb47-18"></a></span>
<span id="cb47-19"><a href="#cb47-19"></a>df_txt <span class="sc">%&gt;%</span></span>
<span id="cb47-20"><a href="#cb47-20"></a>  <span class="fu">select</span>(File, Idx, software_citation_type) <span class="ot">-&gt;</span> df_tmp</span>
<span id="cb47-21"><a href="#cb47-21"></a></span>
<span id="cb47-22"><a href="#cb47-22"></a>df_xml <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"SoMeSci/Formal_Citation/info_summary_xml.csv"</span>, </span>
<span id="cb47-23"><a href="#cb47-23"></a>                   <span class="at">show_col_types =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb47-24"><a href="#cb47-24"></a>  <span class="fu">inner_join</span>(df_tmp, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'File'</span>, <span class="st">'Idx'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb47-25"><a href="#cb47-25"></a>  <span class="fu">mutate</span>(<span class="at">source=</span><span class="st">"XML"</span>)</span>
<span id="cb47-26"><a href="#cb47-26"></a></span>
<span id="cb47-27"><a href="#cb47-27"></a>df_sem <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"SoMeSci/Formal_Citation/info_summary_sem.csv"</span>, </span>
<span id="cb47-28"><a href="#cb47-28"></a>                   <span class="at">show_col_types =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb47-29"><a href="#cb47-29"></a>  <span class="fu">inner_join</span>(df_tmp, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'File'</span>, <span class="st">'Idx'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb47-30"><a href="#cb47-30"></a>  <span class="fu">mutate</span>(<span class="at">source=</span><span class="st">'SEM'</span>)</span>
<span id="cb47-31"><a href="#cb47-31"></a></span>
<span id="cb47-32"><a href="#cb47-32"></a>df_cro <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"SoMeSci/Formal_Citation/info_summary_cro.csv"</span>, </span>
<span id="cb47-33"><a href="#cb47-33"></a>                   <span class="at">show_col_types =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb47-34"><a href="#cb47-34"></a>  <span class="fu">inner_join</span>(df_tmp, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'File'</span>, <span class="st">'Idx'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb47-35"><a href="#cb47-35"></a>  <span class="fu">mutate</span>(<span class="at">source=</span><span class="st">"CRO"</span>)</span>
<span id="cb47-36"><a href="#cb47-36"></a></span>
<span id="cb47-37"><a href="#cb47-37"></a><span class="fu">list</span>(df_txt, df_xml, df_sem, df_cro) <span class="sc">%&gt;%</span></span>
<span id="cb47-38"><a href="#cb47-38"></a>  <span class="fu">bind_rows</span>() <span class="ot">-&gt;</span></span>
<span id="cb47-39"><a href="#cb47-39"></a>  df</span>
<span id="cb47-40"><a href="#cb47-40"></a></span>
<span id="cb47-41"><a href="#cb47-41"></a>df <span class="sc">%&lt;&gt;%</span></span>
<span id="cb47-42"><a href="#cb47-42"></a>  <span class="fu">mutate</span>(<span class="at">missing =</span> <span class="fu">ifelse</span>(reference_missing, </span>
<span id="cb47-43"><a href="#cb47-43"></a>                          <span class="st">"reference_missing"</span>, </span>
<span id="cb47-44"><a href="#cb47-44"></a>                          <span class="fu">ifelse</span>(article_missing, </span>
<span id="cb47-45"><a href="#cb47-45"></a>                                 <span class="st">"article_missing"</span>,</span>
<span id="cb47-46"><a href="#cb47-46"></a>                                 <span class="st">"covered"</span>))) </span>
<span id="cb47-47"><a href="#cb47-47"></a></span>
<span id="cb47-48"><a href="#cb47-48"></a><span class="co"># Software article database availability annotation</span></span>
<span id="cb47-49"><a href="#cb47-49"></a>df_software_article <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"SoMeSci/Formal_Citation/software_article_reference_availability.csv"</span>, </span>
<span id="cb47-50"><a href="#cb47-50"></a>                                <span class="at">show_col_types =</span> F) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Looking for duplicate entries that are sometimes present in databases, especially for Semantic Scholar. In case duplicate entries do exist, the one covering the most information is selected for subsequent analyses, where information is weighted</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a><span class="co"># Looking at entries</span></span>
<span id="cb48-2"><a href="#cb48-2"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="fu">group_by</span>(source, software_citation_type, File, Idx) <span class="sc">%&gt;%</span> </span>
<span id="cb48-4"><a href="#cb48-4"></a>  <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb48-5"><a href="#cb48-5"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb48-6"><a href="#cb48-6"></a>  <span class="fu">group_by</span>(source, software_citation_type, n) <span class="sc">%&gt;%</span> </span>
<span id="cb48-7"><a href="#cb48-7"></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb48-8"><a href="#cb48-8"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> <span class="fu">print</span>(.) <span class="ot">-&gt;</span> df_tmp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
# Groups:   source, software_citation_type [4]
  source software_citation_type     n count
  &lt;chr&gt;  &lt;chr&gt;                  &lt;int&gt; &lt;int&gt;
1 SEM    Direct                     2    25
2 SEM    Direct                     3     5
3 SEM    Manual                     2     6
4 SEM    Manual                     3     1
5 SEM    Other                      2     1
6 SEM    Website                    2     2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a><span class="fu">print</span>(<span class="fu">sum</span>(df_tmp<span class="sc">$</span>count))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 40</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>  <span class="fu">select</span>(File, Idx, software_citation_type, reference_missing, article_missing, source) <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="#cb52-3"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'SEM'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb52-4"><a href="#cb52-4"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb52-5"><a href="#cb52-5"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(reference_missing <span class="sc">|</span> article_missing)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-6"><a href="#cb52-6"></a>  <span class="fu">group_by</span>(software_citation_type) <span class="sc">%&gt;%</span> </span>
<span id="cb52-7"><a href="#cb52-7"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
  software_citation_type     n
  &lt;chr&gt;                  &lt;int&gt;
1 Direct                   111
2 Manual                    40
3 Other                      3
4 Website                    7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a><span class="co"># Removing duplicate entries </span></span>
<span id="cb54-2"><a href="#cb54-2"></a>df <span class="sc">%&lt;&gt;%</span></span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">factor</span>(source, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"TXT"</span>, <span class="st">"XML"</span>, <span class="st">"CRO"</span>, <span class="st">"SEM"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb54-4"><a href="#cb54-4"></a>  <span class="fu">mutate</span>(<span class="at">completeness_count=</span>Creator<span class="sc">*</span><span class="dv">2</span> <span class="sc">+</span> Name<span class="sc">*</span><span class="dv">4</span> <span class="sc">+</span> Archive<span class="sc">*</span><span class="dv">4</span> <span class="sc">+</span> ID<span class="sc">*</span><span class="dv">4</span> <span class="sc">+</span> URL<span class="sc">*</span><span class="dv">2</span> <span class="sc">+</span> </span>
<span id="cb54-5"><a href="#cb54-5"></a>           PubDate_exact<span class="sc">*</span><span class="dv">2</span> <span class="sc">+</span> PubDate_year <span class="sc">+</span> Version<span class="sc">*</span><span class="dv">2</span> <span class="sc">+</span> Type_of_citation <span class="sc">*</span> <span class="fl">0.5</span> <span class="sc">+</span> </span>
<span id="cb54-6"><a href="#cb54-6"></a>           Description <span class="sc">*</span> <span class="fl">0.5</span> <span class="sc">+</span> Date_of_access) <span class="sc">%&gt;%</span></span>
<span id="cb54-7"><a href="#cb54-7"></a>  <span class="fu">group_by</span>(source, File, Idx) <span class="sc">%&gt;%</span></span>
<span id="cb54-8"><a href="#cb54-8"></a>  <span class="fu">slice_max</span>(<span class="at">order_by=</span>completeness_count, <span class="at">with_ties=</span>F) <span class="sc">%&gt;%</span></span>
<span id="cb54-9"><a href="#cb54-9"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb54-10"><a href="#cb54-10"></a>  <span class="fu">select</span>(<span class="sc">-</span>completeness_count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, we analyze the number of cases where wrong information is introduced by a database that does not stand in relation to the original information provided in the formal citation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="co"># Number of wrong information added</span></span>
<span id="cb55-2"><a href="#cb55-2"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="#cb55-3"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'CRO'</span>, <span class="st">'SEM'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(reference_missing <span class="sc">|</span> article_missing)) <span class="sc">%&gt;%</span></span>
<span id="cb55-5"><a href="#cb55-5"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb55-6"><a href="#cb55-6"></a>    software_citation_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Website'</span>, <span class="st">'Other'</span>), </span>
<span id="cb55-7"><a href="#cb55-7"></a>    <span class="st">'Direct'</span>, </span>
<span id="cb55-8"><a href="#cb55-8"></a>    software_citation_type)) <span class="sc">%&gt;%</span></span>
<span id="cb55-9"><a href="#cb55-9"></a>  <span class="fu">group_by</span>(source, software_citation_type) <span class="sc">%&gt;%</span> </span>
<span id="cb55-10"><a href="#cb55-10"></a>  <span class="fu">mutate</span>(<span class="at">n_total=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb55-11"><a href="#cb55-11"></a>  <span class="fu">filter</span>(wrong_content <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-12"><a href="#cb55-12"></a>  <span class="fu">select</span>(source, software_citation_type, n_total, File, Idx, wrong_content) <span class="sc">%&gt;%</span></span>
<span id="cb55-13"><a href="#cb55-13"></a>  <span class="fu">group_by</span>(source, software_citation_type, n_total) <span class="sc">%&gt;%</span></span>
<span id="cb55-14"><a href="#cb55-14"></a>  <span class="fu">summarize</span>(<span class="at">n_references=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb55-15"><a href="#cb55-15"></a>  <span class="fu">mutate</span>(<span class="at">rel_references =</span> n_references <span class="sc">/</span> n_total) <span class="sc">%&gt;%</span></span>
<span id="cb55-16"><a href="#cb55-16"></a>  <span class="fu">mutate</span>(<span class="at">MoE =</span> <span class="fu">sqrt</span>((rel_references <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>rel_references))<span class="sc">/</span>n_total) <span class="sc">*</span> <span class="fl">1.96</span>) <span class="sc">%&gt;%</span></span>
<span id="cb55-17"><a href="#cb55-17"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> rel_references <span class="sc">+</span> MoE, <span class="at">CIl =</span> rel_references<span class="sc">-</span>MoE)  <span class="sc">%&gt;%</span></span>
<span id="cb55-18"><a href="#cb55-18"></a>  <span class="fu">mutate</span>(<span class="at">rel_references =</span> rel_references<span class="sc">*</span><span class="dv">100</span>, </span>
<span id="cb55-19"><a href="#cb55-19"></a>         <span class="at">CIu=</span>CIu<span class="sc">*</span><span class="dv">100</span>, </span>
<span id="cb55-20"><a href="#cb55-20"></a>         <span class="at">CIl=</span><span class="fu">pmax</span>(<span class="dv">0</span>, CIl<span class="sc">*</span><span class="dv">100</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb55-21"><a href="#cb55-21"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> <span class="fu">pmin</span>(CIu, <span class="dv">100</span>), <span class="at">CIl =</span> <span class="fu">pmax</span>(CIl, <span class="dv">0</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 8
# Groups:   source, software_citation_type [2]
  source software_citation_type n_total n_references rel_references    MoE   CIu
  &lt;fct&gt;  &lt;chr&gt;                    &lt;int&gt;        &lt;int&gt;          &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1 SEM    Direct                     121           19           15.7 0.0648  22.2
2 SEM    Manual                      40           25           62.5 0.150   77.5
# ℹ 1 more variable: CIl &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="co"># Number of duplicate information added</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(reference_missing <span class="sc">|</span> article_missing)) <span class="sc">%&gt;%</span></span>
<span id="cb57-4"><a href="#cb57-4"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb57-5"><a href="#cb57-5"></a>    software_citation_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Website'</span>, <span class="st">'Other'</span>), </span>
<span id="cb57-6"><a href="#cb57-6"></a>    <span class="st">'Direct'</span>, </span>
<span id="cb57-7"><a href="#cb57-7"></a>    software_citation_type)) <span class="sc">%&gt;%</span></span>
<span id="cb57-8"><a href="#cb57-8"></a>  <span class="fu">group_by</span>(source, software_citation_type) <span class="sc">%&gt;%</span> </span>
<span id="cb57-9"><a href="#cb57-9"></a>  <span class="fu">mutate</span>(<span class="at">n_total=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb57-10"><a href="#cb57-10"></a>  <span class="fu">filter</span>(duplicate <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-11"><a href="#cb57-11"></a>  <span class="fu">select</span>(source, software_citation_type, n_total, File, Idx, duplicate) <span class="sc">%&gt;%</span></span>
<span id="cb57-12"><a href="#cb57-12"></a>  <span class="fu">group_by</span>(source, software_citation_type, n_total) <span class="sc">%&gt;%</span></span>
<span id="cb57-13"><a href="#cb57-13"></a>  <span class="fu">summarize</span>(<span class="at">n_references=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb57-14"><a href="#cb57-14"></a>  <span class="fu">mutate</span>(<span class="at">rel_references =</span> n_references <span class="sc">/</span> n_total) <span class="sc">%&gt;%</span></span>
<span id="cb57-15"><a href="#cb57-15"></a>  <span class="fu">mutate</span>(<span class="at">MoE =</span> <span class="fu">sqrt</span>((rel_references <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>rel_references))<span class="sc">/</span>n_total) <span class="sc">*</span> <span class="fl">1.96</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-16"><a href="#cb57-16"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> rel_references <span class="sc">+</span> MoE, <span class="at">CIl =</span> rel_references<span class="sc">-</span>MoE)  <span class="sc">%&gt;%</span></span>
<span id="cb57-17"><a href="#cb57-17"></a>  <span class="fu">mutate</span>(<span class="at">rel_references =</span> rel_references<span class="sc">*</span><span class="dv">100</span>, </span>
<span id="cb57-18"><a href="#cb57-18"></a>         <span class="at">CIu=</span>CIu<span class="sc">*</span><span class="dv">100</span>, </span>
<span id="cb57-19"><a href="#cb57-19"></a>         <span class="at">CIl=</span><span class="fu">pmax</span>(<span class="dv">0</span>, CIl<span class="sc">*</span><span class="dv">100</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb57-20"><a href="#cb57-20"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> <span class="fu">pmin</span>(CIu, <span class="dv">100</span>), <span class="at">CIl =</span> <span class="fu">pmax</span>(CIl, <span class="dv">0</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 8
# Groups:   source, software_citation_type [2]
  source software_citation_type n_total n_references rel_references    MoE   CIu
  &lt;fct&gt;  &lt;chr&gt;                    &lt;int&gt;        &lt;int&gt;          &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
1 SEM    Direct                     121           26           21.5 0.0732  28.8
2 SEM    Manual                      40            2            5   0.0675  11.8
# ℹ 1 more variable: CIl &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="co"># Overlap between wrong and duplicate</span></span>
<span id="cb59-2"><a href="#cb59-2"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb59-3"><a href="#cb59-3"></a>  <span class="fu">filter</span>(wrong_content <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> duplicate <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="#cb59-4"></a>  <span class="fu">select</span>(source, software_citation_type, File, Idx, wrong_content, duplicate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 6
  source software_citation_type File       Idx   wrong_content duplicate
  &lt;fct&gt;  &lt;chr&gt;                  &lt;chr&gt;      &lt;chr&gt;         &lt;dbl&gt;     &lt;dbl&gt;
1 SEM    Website                PMC3445547 44                1         1
2 SEM    Direct                 PMC3485250 54                1         1
3 SEM    Direct                 PMC3705362 70.               1         1</code></pre>
</div>
</div>
<p>Assessing the number of missing references in order to determine if software references are systematically missing from a database.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>df_software_article <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2"></a>  <span class="fu">pivot_longer</span>(<span class="fu">c</span>(cro_status, sem_status), </span>
<span id="cb61-3"><a href="#cb61-3"></a>               <span class="at">names_to =</span> <span class="st">'source'</span>, </span>
<span id="cb61-4"><a href="#cb61-4"></a>               <span class="at">values_to =</span> <span class="st">'missing'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-5"><a href="#cb61-5"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">ifelse</span>(source <span class="sc">==</span> <span class="st">'sem_status'</span>, <span class="st">'SEM'</span>, <span class="st">'CRO'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb61-6"><a href="#cb61-6"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="st">'Article'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-7"><a href="#cb61-7"></a>  <span class="fu">rename</span>(<span class="at">File=</span>paper, <span class="at">Idx=</span>citation) <span class="ot">-&gt;</span> df_tmp</span>
<span id="cb61-8"><a href="#cb61-8"></a></span>
<span id="cb61-9"><a href="#cb61-9"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb61-10"><a href="#cb61-10"></a>  <span class="fu">select</span>(File, Idx, source, missing, software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb61-11"><a href="#cb61-11"></a>  <span class="fu">filter</span>(source <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'CRO'</span>, <span class="st">'SEM'</span>)) <span class="ot">-&gt;</span> df_tmp_2</span>
<span id="cb61-12"><a href="#cb61-12"></a></span>
<span id="cb61-13"><a href="#cb61-13"></a>df_tmp <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(df_tmp, df_tmp_2)</span>
<span id="cb61-14"><a href="#cb61-14"></a>df_tmp <span class="sc">%&gt;%</span></span>
<span id="cb61-15"><a href="#cb61-15"></a>  <span class="fu">filter</span>(missing <span class="sc">!=</span> <span class="st">'article_missing'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb61-16"><a href="#cb61-16"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb61-17"><a href="#cb61-17"></a>    software_citation_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Website'</span>, <span class="st">'Other'</span>), </span>
<span id="cb61-18"><a href="#cb61-18"></a>    <span class="st">'Direct'</span>, </span>
<span id="cb61-19"><a href="#cb61-19"></a>    software_citation_type)) <span class="sc">%&gt;%</span></span>
<span id="cb61-20"><a href="#cb61-20"></a>  <span class="fu">group_by</span>(software_citation_type, source) <span class="sc">%&gt;%</span></span>
<span id="cb61-21"><a href="#cb61-21"></a>  <span class="fu">mutate</span>(<span class="at">n_total=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb61-22"><a href="#cb61-22"></a>  <span class="fu">group_by</span>(software_citation_type, source, missing, n_total) <span class="sc">%&gt;%</span></span>
<span id="cb61-23"><a href="#cb61-23"></a>  <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb61-24"><a href="#cb61-24"></a>  <span class="fu">mutate</span>(<span class="at">rel =</span> n <span class="sc">/</span> n_total) <span class="sc">%&gt;%</span> </span>
<span id="cb61-25"><a href="#cb61-25"></a>  <span class="fu">mutate</span>(<span class="at">MoE =</span> <span class="fu">sqrt</span>((rel <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>rel))<span class="sc">/</span>n_total) <span class="sc">*</span> <span class="fl">1.96</span>) <span class="sc">%&gt;%</span></span>
<span id="cb61-26"><a href="#cb61-26"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> rel <span class="sc">+</span> MoE, <span class="at">CIl =</span> rel<span class="sc">-</span>MoE)  <span class="sc">%&gt;%</span></span>
<span id="cb61-27"><a href="#cb61-27"></a>  <span class="fu">mutate</span>(<span class="at">rel =</span> rel<span class="sc">*</span><span class="dv">100</span>, <span class="at">CIu=</span>CIu<span class="sc">*</span><span class="dv">100</span>, <span class="at">CIl=</span><span class="fu">pmax</span>(<span class="dv">0</span>, CIl<span class="sc">*</span><span class="dv">100</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb61-28"><a href="#cb61-28"></a>  <span class="fu">mutate</span>(<span class="at">CIu =</span> <span class="fu">pmin</span>(CIu, <span class="dv">100</span>), <span class="at">CIl =</span> <span class="fu">pmax</span>(CIl, <span class="dv">0</span>)) <span class="co">#%&gt;%</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 9
# Groups:   software_citation_type, source, missing [12]
   software_citation_type source missing    n_total     n    rel     MoE     CIu
   &lt;chr&gt;                  &lt;chr&gt;  &lt;chr&gt;        &lt;int&gt; &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Article                CRO    covered        381   380 99.7   0.00514 100    
 2 Article                CRO    reference…     381     1  0.262 0.00514   0.776
 3 Article                SEM    covered        382   378 99.0   0.0102  100.   
 4 Article                SEM    reference…     382     4  1.05  0.0102    2.07 
 5 Direct                 CRO    covered        155   147 94.8   0.0348   98.3  
 6 Direct                 CRO    reference…     155     8  5.16  0.0348    8.64 
 7 Direct                 SEM    covered        157   121 77.1   0.0658   83.6  
 8 Direct                 SEM    reference…     157    36 22.9   0.0658   29.5  
 9 Manual                 CRO    covered         47    41 87.2   0.0954   96.8  
10 Manual                 CRO    reference…      47     6 12.8   0.0954   22.3  
11 Manual                 SEM    covered         45    40 88.9   0.0918   98.1  
12 Manual                 SEM    reference…      45     5 11.1   0.0918   20.3  
# ℹ 1 more variable: CIl &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>  <span class="co">#filter(missing == 'reference_missing')</span></span>
<span id="cb63-2"><a href="#cb63-2"></a></span>
<span id="cb63-3"><a href="#cb63-3"></a>df_tmp <span class="sc">%&gt;%</span></span>
<span id="cb63-4"><a href="#cb63-4"></a>  <span class="fu">filter</span>(missing <span class="sc">!=</span> <span class="st">'article_missing'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb63-5"><a href="#cb63-5"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'SEM'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb63-6"><a href="#cb63-6"></a>  <span class="fu">filter</span>(software_citation_type <span class="sc">!=</span> <span class="st">'Manual'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb63-7"><a href="#cb63-7"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb63-8"><a href="#cb63-8"></a>    software_citation_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Direct'</span>, <span class="st">'Manual'</span>, <span class="st">'Website'</span>, <span class="st">'Other'</span>), </span>
<span id="cb63-9"><a href="#cb63-9"></a>    <span class="dv">1</span>, </span>
<span id="cb63-10"><a href="#cb63-10"></a>    <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb63-11"><a href="#cb63-11"></a>  <span class="fu">mutate</span>(<span class="at">missing =</span> <span class="fu">ifelse</span>(missing <span class="sc">==</span> <span class="st">'covered'</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="ot">-&gt;</span> df_test</span>
<span id="cb63-12"><a href="#cb63-12"></a></span>
<span id="cb63-13"><a href="#cb63-13"></a><span class="co"># Performing a Chi-sq test to assess if direct software citations and </span></span>
<span id="cb63-14"><a href="#cb63-14"></a><span class="co"># software articles (represented as regular articles) are missing with </span></span>
<span id="cb63-15"><a href="#cb63-15"></a><span class="co"># different frequency from Semantic Scholar, to analyze if there is a </span></span>
<span id="cb63-16"><a href="#cb63-16"></a><span class="co"># systematic bias. And asssesing the extend of the effect. </span></span>
<span id="cb63-17"><a href="#cb63-17"></a><span class="fu">nrow</span>(df_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 539</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="fu">chisq.test</span>(df_test<span class="sc">$</span>missing, df_test<span class="sc">$</span>software_citation_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test with Yates' continuity correction

data:  df_test$missing and df_test$software_citation_type
X-squared = 74.4, df = 1, p-value &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="fu">cramerV</span>(df_test<span class="sc">$</span>missing, df_test<span class="sc">$</span>software_citation_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cramer V 
  0.3793 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="fu">cohenW</span>(df_test<span class="sc">$</span>missing, df_test<span class="sc">$</span>software_citation_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cohen w 
 0.3793 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>df_tmp <span class="sc">%&gt;%</span></span>
<span id="cb71-2"><a href="#cb71-2"></a>  <span class="fu">filter</span>(missing <span class="sc">!=</span> <span class="st">'article_missing'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href="#cb71-3"></a>  <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'CRO'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb71-4"><a href="#cb71-4"></a>  <span class="fu">filter</span>(software_citation_type <span class="sc">!=</span> <span class="st">'Manual'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb71-5"><a href="#cb71-5"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb71-6"><a href="#cb71-6"></a>    software_citation_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Direct'</span>, <span class="st">'Manual'</span>, <span class="st">'Website'</span>, <span class="st">'Other'</span>), </span>
<span id="cb71-7"><a href="#cb71-7"></a>    <span class="dv">1</span>, </span>
<span id="cb71-8"><a href="#cb71-8"></a>    <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb71-9"><a href="#cb71-9"></a>  <span class="fu">mutate</span>(<span class="at">missing =</span> <span class="fu">ifelse</span>(missing <span class="sc">==</span> <span class="st">'covered'</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="ot">-&gt;</span> df_test</span>
<span id="cb71-10"><a href="#cb71-10"></a></span>
<span id="cb71-11"><a href="#cb71-11"></a><span class="co"># Performing a Chi-sq test to assess if direct software citations and </span></span>
<span id="cb71-12"><a href="#cb71-12"></a><span class="co"># software articles (represented as regular articles) are missing with </span></span>
<span id="cb71-13"><a href="#cb71-13"></a><span class="co"># different frequency from Crossref, to analyze if there is a </span></span>
<span id="cb71-14"><a href="#cb71-14"></a><span class="co"># systematic bias. And asssesing the extend of the effect.</span></span>
<span id="cb71-15"><a href="#cb71-15"></a><span class="fu">nrow</span>(df_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 536</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="fu">chisq.test</span>(df_test<span class="sc">$</span>missing, df_test<span class="sc">$</span>software_citation_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test with Yates' continuity correction

data:  df_test$missing and df_test$software_citation_type
X-squared = 13.186, df = 1, p-value = 0.000282</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="fu">cramerV</span>(df_test<span class="sc">$</span>missing, df_test<span class="sc">$</span>software_citation_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cramer V 
  0.1729 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="fu">cohenW</span>(df_test<span class="sc">$</span>missing, df_test<span class="sc">$</span>software_citation_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cohen w 
 0.1729 </code></pre>
</div>
</div>
<p>Now, the availability, structure, and correctness of representation is investigated for all provided information individually.</p>
<p>First, the representation with respect to version numbers is analyzed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="co"># Setting up helper function and coloring scheme</span></span>
<span id="cb79-2"><a href="#cb79-2"></a>drei <span class="ot">&lt;-</span> <span class="cf">function</span>(available, attribute, <span class="at">string=</span><span class="st">'S'</span>, <span class="at">missing=</span>F){</span>
<span id="cb79-3"><a href="#cb79-3"></a>  <span class="fu">factor</span>(</span>
<span id="cb79-4"><a href="#cb79-4"></a>    <span class="fu">ifelse</span>(missing, <span class="st">"M"</span>, </span>
<span id="cb79-5"><a href="#cb79-5"></a>           <span class="fu">ifelse</span>(<span class="sc">!</span>available, <span class="st">"NA"</span>, </span>
<span id="cb79-6"><a href="#cb79-6"></a>                  <span class="fu">ifelse</span>(attribute, <span class="st">"US"</span>, string))))</span>
<span id="cb79-7"><a href="#cb79-7"></a>}</span>
<span id="cb79-8"><a href="#cb79-8"></a>vier <span class="ot">&lt;-</span> <span class="cf">function</span>(missing, attribute, wrong, incomplete, place){</span>
<span id="cb79-9"><a href="#cb79-9"></a>  <span class="fu">factor</span>(</span>
<span id="cb79-10"><a href="#cb79-10"></a>    <span class="fu">ifelse</span>(missing, <span class="st">'M'</span>, </span>
<span id="cb79-11"><a href="#cb79-11"></a>           <span class="fu">ifelse</span>(<span class="sc">!</span>attribute, <span class="st">'NA'</span>, </span>
<span id="cb79-12"><a href="#cb79-12"></a>                  <span class="fu">ifelse</span>(wrong, <span class="st">'E'</span>, </span>
<span id="cb79-13"><a href="#cb79-13"></a>                         <span class="fu">ifelse</span>(incomplete, <span class="st">'E'</span>, </span>
<span id="cb79-14"><a href="#cb79-14"></a>                                <span class="fu">ifelse</span>(place, <span class="st">'E'</span>, <span class="st">'C'</span>))))))</span>
<span id="cb79-15"><a href="#cb79-15"></a>}</span>
<span id="cb79-16"><a href="#cb79-16"></a>col_vector <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'#e0c2cd'</span>, <span class="st">'#a6bae1'</span>, <span class="st">'#fdcb97'</span>, <span class="st">'#bee383'</span>, <span class="st">'#e5d8bd'</span>, <span class="st">'#fcbbbb'</span>)</span>
<span id="cb79-17"><a href="#cb79-17"></a>col_vector_flow <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'#a6bae1'</span>, <span class="st">'#fdcb97'</span>, <span class="st">'#bee383'</span>)</span>
<span id="cb79-18"><a href="#cb79-18"></a></span>
<span id="cb79-19"><a href="#cb79-19"></a><span class="co"># Transformations for all following analyses</span></span>
<span id="cb79-20"><a href="#cb79-20"></a>df <span class="sc">%&lt;&gt;%</span></span>
<span id="cb79-21"><a href="#cb79-21"></a>  <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb79-22"><a href="#cb79-22"></a>    software_citation_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'Website'</span>, <span class="st">'Other'</span>),</span>
<span id="cb79-23"><a href="#cb79-23"></a>    <span class="st">'Direct'</span>, </span>
<span id="cb79-24"><a href="#cb79-24"></a>    software_citation_type)) <span class="sc">%&gt;%</span></span>
<span id="cb79-25"><a href="#cb79-25"></a>  <span class="fu">mutate</span>(<span class="at">missing =</span> <span class="fu">ifelse</span>(missing <span class="sc">==</span> <span class="st">'covered'</span>, F, T)) <span class="sc">%&gt;%</span></span>
<span id="cb79-26"><a href="#cb79-26"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">fct_recode</span>(source, <span class="st">"JATS"</span><span class="ot">=</span><span class="st">"XML"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-27"><a href="#cb79-27"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">factor</span>(source, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"JATS"</span>, <span class="st">"CRO"</span>, <span class="st">"SEM"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb79-28"><a href="#cb79-28"></a>  <span class="fu">filter</span>(source<span class="sc">!=</span><span class="st">"TXT"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-29"><a href="#cb79-29"></a>  <span class="fu">mutate</span>(<span class="at">id=</span><span class="fu">paste0</span>(File,Idx))</span>
<span id="cb79-30"><a href="#cb79-30"></a></span>
<span id="cb79-31"><a href="#cb79-31"></a>create_alluvial <span class="ot">&lt;-</span> <span class="cf">function</span>(df, col_v1, col_vf1, col_v2, col_vf2, labels, title){</span>
<span id="cb79-32"><a href="#cb79-32"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb79-33"><a href="#cb79-33"></a>    <span class="fu">filter</span>(source <span class="sc">==</span> <span class="st">'JATS'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-34"><a href="#cb79-34"></a>    <span class="fu">mutate</span>(<span class="at">fill =</span> value) <span class="sc">%&gt;%</span> </span>
<span id="cb79-35"><a href="#cb79-35"></a>    <span class="fu">select</span>(id, fill) <span class="ot">-&gt;</span> df_col</span>
<span id="cb79-36"><a href="#cb79-36"></a>  </span>
<span id="cb79-37"><a href="#cb79-37"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb79-38"><a href="#cb79-38"></a>    <span class="fu">inner_join</span>(df_col, <span class="at">by=</span><span class="st">'id'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-39"><a href="#cb79-39"></a>    <span class="fu">mutate</span>(<span class="at">source=</span><span class="fu">factor</span>(source, </span>
<span id="cb79-40"><a href="#cb79-40"></a>                         <span class="at">levels=</span><span class="fu">c</span>(<span class="st">"CRO"</span>, <span class="st">"JATS"</span>, <span class="st">"SEM"</span>, <span class="st">'CRO_ERR'</span>, <span class="st">'SEM_ERR'</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb79-41"><a href="#cb79-41"></a>    <span class="fu">mutate</span>(<span class="at">software_citation_type =</span> <span class="fu">ifelse</span>(</span>
<span id="cb79-42"><a href="#cb79-42"></a>      software_citation_type <span class="sc">!=</span> <span class="st">'Manual'</span>, <span class="st">'Direct'</span>, <span class="st">'Manual'</span>)) <span class="ot">-&gt;</span> </span>
<span id="cb79-43"><a href="#cb79-43"></a>    df_plot</span>
<span id="cb79-44"><a href="#cb79-44"></a>  </span>
<span id="cb79-45"><a href="#cb79-45"></a>  df_plot <span class="ot">&lt;-</span> <span class="fu">split</span>(df_plot, df_plot<span class="sc">$</span>software_citation_type)</span>
<span id="cb79-46"><a href="#cb79-46"></a>  </span>
<span id="cb79-47"><a href="#cb79-47"></a>  <span class="fu">alluvial</span>(df_plot<span class="sc">$</span>Direct</span>
<span id="cb79-48"><a href="#cb79-48"></a>           , <span class="at">key =</span> source</span>
<span id="cb79-49"><a href="#cb79-49"></a>           , <span class="at">value =</span> value</span>
<span id="cb79-50"><a href="#cb79-50"></a>           , <span class="at">id =</span> id</span>
<span id="cb79-51"><a href="#cb79-51"></a>           , <span class="at">fill =</span> fill</span>
<span id="cb79-52"><a href="#cb79-52"></a>           , <span class="at">order_levels_value =</span> <span class="fu">c</span>(<span class="st">'M'</span>, <span class="st">'NA'</span>, <span class="st">'US'</span>, <span class="st">'S'</span>, <span class="st">'C'</span>, <span class="st">'E'</span>)</span>
<span id="cb79-53"><a href="#cb79-53"></a>           , <span class="at">order_levels_key =</span> <span class="fu">c</span>(<span class="st">'CRO_ERR'</span>, <span class="st">'CRO'</span>, <span class="st">'JATS'</span>, <span class="st">'SEM'</span>, <span class="st">'SEM_ERR'</span>)</span>
<span id="cb79-54"><a href="#cb79-54"></a>           , <span class="at">col_vector_flow =</span> col_vf1</span>
<span id="cb79-55"><a href="#cb79-55"></a>           , <span class="at">col_vector_value =</span> col_v1 </span>
<span id="cb79-56"><a href="#cb79-56"></a>           , <span class="at">stratum_labels =</span> T</span>
<span id="cb79-57"><a href="#cb79-57"></a>           , <span class="at">stratum_label_size =</span> <span class="fl">4.5</span></span>
<span id="cb79-58"><a href="#cb79-58"></a>           , <span class="at">auto_rotate_xlabs =</span> F</span>
<span id="cb79-59"><a href="#cb79-59"></a>           , <span class="at">labels =</span> labels</span>
<span id="cb79-60"><a href="#cb79-60"></a>           , <span class="at">title =</span> title</span>
<span id="cb79-61"><a href="#cb79-61"></a>           , <span class="at">facet_name =</span> <span class="st">"Direct Software Citation"</span></span>
<span id="cb79-62"><a href="#cb79-62"></a>  ) <span class="ot">-&gt;</span> p_out_1</span>
<span id="cb79-63"><a href="#cb79-63"></a>  </span>
<span id="cb79-64"><a href="#cb79-64"></a>  <span class="fu">alluvial</span>(df_plot<span class="sc">$</span>Manual</span>
<span id="cb79-65"><a href="#cb79-65"></a>           , <span class="at">key =</span> source</span>
<span id="cb79-66"><a href="#cb79-66"></a>           , <span class="at">value =</span> value</span>
<span id="cb79-67"><a href="#cb79-67"></a>           , <span class="at">id =</span> id</span>
<span id="cb79-68"><a href="#cb79-68"></a>           , <span class="at">fill =</span> fill</span>
<span id="cb79-69"><a href="#cb79-69"></a>           , <span class="at">order_levels_value =</span> <span class="fu">c</span>(<span class="st">'M'</span>, <span class="st">'NA'</span>, <span class="st">'US'</span>, <span class="st">'S'</span>, <span class="st">'C'</span>, <span class="st">'E'</span>)</span>
<span id="cb79-70"><a href="#cb79-70"></a>           , <span class="at">order_levels_key =</span> <span class="fu">c</span>(<span class="st">'CRO_ERR'</span>, <span class="st">'CRO'</span>, <span class="st">'JATS'</span>, <span class="st">'SEM'</span>, <span class="st">'SEM_ERR'</span>)</span>
<span id="cb79-71"><a href="#cb79-71"></a>           , <span class="at">col_vector_flow =</span> col_vf2</span>
<span id="cb79-72"><a href="#cb79-72"></a>           , <span class="at">col_vector_value =</span> col_v2 </span>
<span id="cb79-73"><a href="#cb79-73"></a>           , <span class="at">stratum_label_size =</span> <span class="fl">4.5</span></span>
<span id="cb79-74"><a href="#cb79-74"></a>           , <span class="at">stratum_labels =</span> T</span>
<span id="cb79-75"><a href="#cb79-75"></a>           , <span class="at">auto_rotate_xlabs =</span> F</span>
<span id="cb79-76"><a href="#cb79-76"></a>           , <span class="at">facet_name =</span> <span class="st">"Citation to Manual"</span>, </span>
<span id="cb79-77"><a href="#cb79-77"></a>  ) <span class="ot">-&gt;</span> p_out_2</span>
<span id="cb79-78"><a href="#cb79-78"></a>  </span>
<span id="cb79-79"><a href="#cb79-79"></a>  <span class="fu">return</span>(p_out_1 <span class="sc">/</span> p_out_2)</span>
<span id="cb79-80"><a href="#cb79-80"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Plotting the results:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>  <span class="fu">mutate</span>(<span class="at">Version_info =</span> <span class="fu">drei</span>(Version, </span>
<span id="cb80-3"><a href="#cb80-3"></a>                             <span class="st">`</span><span class="at">Version&lt;&gt;unstructured</span><span class="st">`</span>, </span>
<span id="cb80-4"><a href="#cb80-4"></a>                             <span class="at">string=</span><span class="st">'S'</span>, </span>
<span id="cb80-5"><a href="#cb80-5"></a>                             <span class="at">missing=</span>missing)) <span class="sc">%&gt;%</span></span>
<span id="cb80-6"><a href="#cb80-6"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="ot">-&gt;</span> </span>
<span id="cb80-7"><a href="#cb80-7"></a>  data_long</span>
<span id="cb80-8"><a href="#cb80-8"></a></span>
<span id="cb80-9"><a href="#cb80-9"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb80-10"><a href="#cb80-10"></a>  <span class="fu">mutate</span>(<span class="at">Version_info =</span> <span class="fu">vier</span>(missing, </span>
<span id="cb80-11"><a href="#cb80-11"></a>                             Version, </span>
<span id="cb80-12"><a href="#cb80-12"></a>                             <span class="st">`</span><span class="at">Version&lt;&gt;wrong_content</span><span class="st">`</span>, </span>
<span id="cb80-13"><a href="#cb80-13"></a>                             <span class="st">`</span><span class="at">Version&lt;&gt;incomplete_content</span><span class="st">`</span>, </span>
<span id="cb80-14"><a href="#cb80-14"></a>                             <span class="st">`</span><span class="at">Version&lt;&gt;wrong_place</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb80-15"><a href="#cb80-15"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb80-16"><a href="#cb80-16"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span> <span class="st">'JATS'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb80-17"><a href="#cb80-17"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">recode</span>(source, <span class="st">`</span><span class="at">CRO</span><span class="st">`</span><span class="ot">=</span><span class="st">'CRO_ERR'</span>, <span class="st">`</span><span class="at">SEM</span><span class="st">`</span><span class="ot">=</span><span class="st">'SEM_ERR'</span>)) <span class="ot">-&gt;</span></span>
<span id="cb80-18"><a href="#cb80-18"></a>  data_long_2</span>
<span id="cb80-19"><a href="#cb80-19"></a></span>
<span id="cb80-20"><a href="#cb80-20"></a>data_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_long, data_long_2)</span>
<span id="cb80-21"><a href="#cb80-21"></a>data_long <span class="sc">%&lt;&gt;%</span> <span class="fu">rename</span>(<span class="at">value=</span>Version_info)</span>
<span id="cb80-22"><a href="#cb80-22"></a></span>
<span id="cb80-23"><a href="#cb80-23"></a>p <span class="ot">&lt;-</span> <span class="fu">create_alluvial</span>(data_long, </span>
<span id="cb80-24"><a href="#cb80-24"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">5</span>)], </span>
<span id="cb80-25"><a href="#cb80-25"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb80-26"><a href="#cb80-26"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)], </span>
<span id="cb80-27"><a href="#cb80-27"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb80-28"><a href="#cb80-28"></a>                     <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"not available (NA)"</span>, </span>
<span id="cb80-29"><a href="#cb80-29"></a>                              <span class="st">"structured (S)"</span>, </span>
<span id="cb80-30"><a href="#cb80-30"></a>                              <span class="st">"missing (M)"</span>, </span>
<span id="cb80-31"><a href="#cb80-31"></a>                              <span class="st">"correct (C)"</span>, </span>
<span id="cb80-32"><a href="#cb80-32"></a>                              <span class="st">"error (E)"</span>, </span>
<span id="cb80-33"><a href="#cb80-33"></a>                              <span class="st">"unstructured (US)"</span>), </span>
<span id="cb80-34"><a href="#cb80-34"></a>                     <span class="at">title =</span> <span class="st">"Version representation across databases"</span>)</span>
<span id="cb80-35"><a href="#cb80-35"></a></span>
<span id="cb80-36"><a href="#cb80-36"></a><span class="fu">ggsave</span>(<span class="st">'db_version.jpg'</span>, p, <span class="at">width =</span> <span class="dv">9</span>, <span class="at">height =</span> <span class="dv">5</span>)</span>
<span id="cb80-37"><a href="#cb80-37"></a></span>
<span id="cb80-38"><a href="#cb80-38"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S6 (Article Fig 10): Adapted alluvial plot illustrating </span></span>
<span id="cb80-39"><a href="#cb80-39"></a><span class="st">        the availability, structure, and correctness of software version </span></span>
<span id="cb80-40"><a href="#cb80-40"></a><span class="st">        representations within Direct Software Citations. The results </span></span>
<span id="cb80-41"><a href="#cb80-41"></a><span class="st">        for availability and structure for the publisher's JATS in the </span></span>
<span id="cb80-42"><a href="#cb80-42"></a><span class="st">        middle column are compared to the results for Crossref (CRO) on </span></span>
<span id="cb80-43"><a href="#cb80-43"></a><span class="st">        the left, Semantic Scholar (SEM) on the right. The outermost </span></span>
<span id="cb80-44"><a href="#cb80-44"></a><span class="st">        columns show the correctness for Crossref (CRO_ERR) on the left </span></span>
<span id="cb80-45"><a href="#cb80-45"></a><span class="st">        and Semantic Scholar on the right (SEM_ERR). Missing samples in </span></span>
<span id="cb80-46"><a href="#cb80-46"></a><span class="st">        Crossref and Semantic Scholar are added in all columns for </span></span>
<span id="cb80-47"><a href="#cb80-47"></a><span class="st">        completeness."</span>)</span>
<span id="cb80-48"><a href="#cb80-48"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="1056"></p>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>get_main_numbers <span class="ot">&lt;-</span> <span class="cf">function</span>(df, name){</span>
<span id="cb81-2"><a href="#cb81-2"></a>  df <span class="sc">%&gt;%</span> </span>
<span id="cb81-3"><a href="#cb81-3"></a>    <span class="fu">group_by</span>(source, value, software_citation_type) <span class="sc">%&gt;%</span> </span>
<span id="cb81-4"><a href="#cb81-4"></a>    <span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb81-5"><a href="#cb81-5"></a>    <span class="fu">filter</span>(value <span class="sc">!=</span> <span class="st">'M'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb81-6"><a href="#cb81-6"></a>    <span class="fu">group_by</span>(source, software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb81-7"><a href="#cb81-7"></a>    <span class="fu">mutate</span>(<span class="at">n_total =</span> <span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb81-8"><a href="#cb81-8"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb81-9"><a href="#cb81-9"></a>    <span class="fu">separate</span>(source, <span class="at">into=</span><span class="fu">c</span>(<span class="st">'source'</span>, <span class="st">'error'</span>), <span class="st">'_'</span>, <span class="at">fill =</span> <span class="st">"right"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb81-10"><a href="#cb81-10"></a>    <span class="fu">mutate</span>(<span class="at">error =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(error), <span class="st">'none'</span>, error)) <span class="sc">%&gt;%</span></span>
<span id="cb81-11"><a href="#cb81-11"></a>    <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">as.character</span>(source)) <span class="sc">%&gt;%</span></span>
<span id="cb81-12"><a href="#cb81-12"></a>    <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> value, <span class="at">values_from=</span>n) <span class="ot">-&gt;</span> df_tmp</span>
<span id="cb81-13"><a href="#cb81-13"></a>  </span>
<span id="cb81-14"><a href="#cb81-14"></a>  df_tmp <span class="ot">&lt;-</span> <span class="fu">split</span>(df_tmp, df_tmp<span class="sc">$</span>error)</span>
<span id="cb81-15"><a href="#cb81-15"></a>  df_tmp<span class="sc">$</span>ERR <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(S, US, error)) <span class="ot">-&gt;</span> df_tmp_2</span>
<span id="cb81-16"><a href="#cb81-16"></a>  df_tmp<span class="sc">$</span>none <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(C, E, error)) <span class="sc">%&gt;%</span></span>
<span id="cb81-17"><a href="#cb81-17"></a>    <span class="fu">left_join</span>(df_tmp_2, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'source'</span>, </span>
<span id="cb81-18"><a href="#cb81-18"></a>                             <span class="st">'software_citation_type'</span>, </span>
<span id="cb81-19"><a href="#cb81-19"></a>                             <span class="st">'n_total'</span>, </span>
<span id="cb81-20"><a href="#cb81-20"></a>                             <span class="st">'NA'</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb81-21"><a href="#cb81-21"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">NA %</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">NA</span><span class="st">`</span> <span class="sc">/</span> n_total <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb81-22"><a href="#cb81-22"></a>           <span class="st">`</span><span class="at">S %</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">S</span><span class="st">`</span> <span class="sc">/</span> n_total <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb81-23"><a href="#cb81-23"></a>           <span class="st">`</span><span class="at">US %</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">US</span><span class="st">`</span> <span class="sc">/</span> n_total <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb81-24"><a href="#cb81-24"></a>           <span class="st">`</span><span class="at">C %</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">C</span><span class="st">`</span> <span class="sc">/</span> n_total <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>),</span>
<span id="cb81-25"><a href="#cb81-25"></a>           <span class="st">`</span><span class="at">E %</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">E</span><span class="st">`</span> <span class="sc">/</span> n_total <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb81-26"><a href="#cb81-26"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Meta-data</span><span class="st">`</span> <span class="ot">=</span> name) <span class="ot">-&gt;</span> df_out</span>
<span id="cb81-27"><a href="#cb81-27"></a>  </span>
<span id="cb81-28"><a href="#cb81-28"></a>  <span class="fu">return</span>(df_out)</span>
<span id="cb81-29"><a href="#cb81-29"></a>}</span>
<span id="cb81-30"><a href="#cb81-30"></a></span>
<span id="cb81-31"><a href="#cb81-31"></a>df_table <span class="ot">&lt;-</span> <span class="fu">get_main_numbers</span>(data_long, <span class="st">"Version"</span>)</span>
<span id="cb81-32"><a href="#cb81-32"></a></span>
<span id="cb81-33"><a href="#cb81-33"></a><span class="co">#cat(software_version(data_long, df))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb82-2"><a href="#cb82-2"></a>  <span class="fu">mutate</span>(<span class="at">Name_info =</span> <span class="fu">drei</span>(Name, </span>
<span id="cb82-3"><a href="#cb82-3"></a>                          <span class="st">`</span><span class="at">Name&lt;&gt;unstructured</span><span class="st">`</span>,</span>
<span id="cb82-4"><a href="#cb82-4"></a>                          <span class="at">string=</span><span class="st">'S'</span>, </span>
<span id="cb82-5"><a href="#cb82-5"></a>                          <span class="at">missing=</span>missing)) <span class="sc">%&gt;%</span></span>
<span id="cb82-6"><a href="#cb82-6"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="ot">-&gt;</span> </span>
<span id="cb82-7"><a href="#cb82-7"></a>  data_long</span>
<span id="cb82-8"><a href="#cb82-8"></a></span>
<span id="cb82-9"><a href="#cb82-9"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb82-10"><a href="#cb82-10"></a>  <span class="fu">mutate</span>(<span class="at">Name_info =</span> <span class="fu">vier</span>(missing, </span>
<span id="cb82-11"><a href="#cb82-11"></a>                          Name, </span>
<span id="cb82-12"><a href="#cb82-12"></a>                          <span class="st">`</span><span class="at">Name&lt;&gt;wrong_content</span><span class="st">`</span>, </span>
<span id="cb82-13"><a href="#cb82-13"></a>                          <span class="st">`</span><span class="at">Name&lt;&gt;incomplete_content</span><span class="st">`</span>, </span>
<span id="cb82-14"><a href="#cb82-14"></a>                          <span class="st">`</span><span class="at">Name&lt;&gt;wrong_place</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb82-15"><a href="#cb82-15"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb82-16"><a href="#cb82-16"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span> <span class="st">'JATS'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb82-17"><a href="#cb82-17"></a>  <span class="fu">mutate</span>(<span class="at">source =</span>  <span class="fu">recode</span>(source, <span class="st">`</span><span class="at">CRO</span><span class="st">`</span><span class="ot">=</span><span class="st">'CRO_ERR'</span>, <span class="st">`</span><span class="at">SEM</span><span class="st">`</span><span class="ot">=</span><span class="st">'SEM_ERR'</span>)) <span class="ot">-&gt;</span></span>
<span id="cb82-18"><a href="#cb82-18"></a>  data_long_2</span>
<span id="cb82-19"><a href="#cb82-19"></a></span>
<span id="cb82-20"><a href="#cb82-20"></a>data_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_long, data_long_2)</span>
<span id="cb82-21"><a href="#cb82-21"></a>data_long <span class="sc">%&lt;&gt;%</span> <span class="fu">rename</span>(<span class="at">value=</span>Name_info)</span>
<span id="cb82-22"><a href="#cb82-22"></a></span>
<span id="cb82-23"><a href="#cb82-23"></a>p <span class="ot">&lt;-</span> <span class="fu">create_alluvial</span>(data_long, </span>
<span id="cb82-24"><a href="#cb82-24"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>)], </span>
<span id="cb82-25"><a href="#cb82-25"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb82-26"><a href="#cb82-26"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>)], </span>
<span id="cb82-27"><a href="#cb82-27"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb82-28"><a href="#cb82-28"></a>                     <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"not available (NA)"</span>, </span>
<span id="cb82-29"><a href="#cb82-29"></a>                              <span class="st">"structured (S)"</span>, </span>
<span id="cb82-30"><a href="#cb82-30"></a>                              <span class="st">"missing (M)"</span>, </span>
<span id="cb82-31"><a href="#cb82-31"></a>                              <span class="st">"correct (C)"</span>, </span>
<span id="cb82-32"><a href="#cb82-32"></a>                              <span class="st">"error (E)"</span>, </span>
<span id="cb82-33"><a href="#cb82-33"></a>                              <span class="st">"unstructured (US)"</span>), </span>
<span id="cb82-34"><a href="#cb82-34"></a>                     <span class="at">title =</span> <span class="st">"Software name representation across databases"</span>)</span>
<span id="cb82-35"><a href="#cb82-35"></a></span>
<span id="cb82-36"><a href="#cb82-36"></a><span class="fu">ggsave</span>(<span class="st">'db_name.jpg'</span>, p, <span class="at">width =</span> <span class="dv">9</span>, <span class="at">height =</span> <span class="dv">5</span>)</span>
<span id="cb82-37"><a href="#cb82-37"></a></span>
<span id="cb82-38"><a href="#cb82-38"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S7 (Article Fig 7): Alluvial plot illustrating the </span></span>
<span id="cb82-39"><a href="#cb82-39"></a><span class="st">              availability, structure, and correctness of software name </span></span>
<span id="cb82-40"><a href="#cb82-40"></a><span class="st">              representations within Direct Software Citations following the </span></span>
<span id="cb82-41"><a href="#cb82-41"></a><span class="st">              principle of Figure S6."</span>)</span>
<span id="cb82-42"><a href="#cb82-42"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="1056"></p>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>df_table <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_table, <span class="fu">get_main_numbers</span>(data_long, <span class="st">"Name"</span>))</span>
<span id="cb83-2"><a href="#cb83-2"></a></span>
<span id="cb83-3"><a href="#cb83-3"></a><span class="co">#cat(software_name(data_long, df))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Year, include information from exact date, date of access and year, in the given priority as they are semantically related and there is only few data on the first two.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb84-2"><a href="#cb84-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb84-3"><a href="#cb84-3"></a>    <span class="at">date_info =</span> <span class="fu">as.character</span>(<span class="fu">drei</span>(PubDate_exact, </span>
<span id="cb84-4"><a href="#cb84-4"></a>                                  <span class="st">`</span><span class="at">PubDate_year&lt;&gt;unstructured</span><span class="st">`</span>, </span>
<span id="cb84-5"><a href="#cb84-5"></a>                                  <span class="at">string=</span><span class="st">'S'</span>, </span>
<span id="cb84-6"><a href="#cb84-6"></a>                                  missing)),</span>
<span id="cb84-7"><a href="#cb84-7"></a>    <span class="at">doa_info =</span> <span class="fu">as.character</span>(<span class="fu">drei</span>(Date_of_access, </span>
<span id="cb84-8"><a href="#cb84-8"></a>                                 <span class="st">`</span><span class="at">Date_of_access&lt;&gt;unstructured</span><span class="st">`</span>, </span>
<span id="cb84-9"><a href="#cb84-9"></a>                                 <span class="at">string=</span><span class="st">'S'</span>, </span>
<span id="cb84-10"><a href="#cb84-10"></a>                                 missing)),</span>
<span id="cb84-11"><a href="#cb84-11"></a>    <span class="at">year_info =</span> <span class="fu">as.character</span>(<span class="fu">drei</span>(PubDate_year, </span>
<span id="cb84-12"><a href="#cb84-12"></a>                                  <span class="st">`</span><span class="at">PubDate_year&lt;&gt;unstructured</span><span class="st">`</span>, </span>
<span id="cb84-13"><a href="#cb84-13"></a>                                  <span class="at">string=</span><span class="st">'S'</span>, </span>
<span id="cb84-14"><a href="#cb84-14"></a>                                  missing))) <span class="sc">%&gt;%</span></span>
<span id="cb84-15"><a href="#cb84-15"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb84-16"><a href="#cb84-16"></a>  <span class="fu">mutate</span>(<span class="at">structure_info =</span> <span class="fu">ifelse</span>(date_info<span class="sc">!=</span><span class="st">'NA'</span>, date_info, </span>
<span id="cb84-17"><a href="#cb84-17"></a>                                  <span class="fu">ifelse</span>(doa_info<span class="sc">!=</span><span class="st">'NA'</span>, doa_info, </span>
<span id="cb84-18"><a href="#cb84-18"></a>                                         year_info))) <span class="sc">%&gt;%</span></span>
<span id="cb84-19"><a href="#cb84-19"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(date_info, doa_info, year_info)) <span class="ot">-&gt;</span> data_long</span>
<span id="cb84-20"><a href="#cb84-20"></a></span>
<span id="cb84-21"><a href="#cb84-21"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb84-22"><a href="#cb84-22"></a>  <span class="fu">mutate</span>(<span class="at">Date_info =</span> <span class="fu">as.character</span>(<span class="fu">vier</span>(missing, </span>
<span id="cb84-23"><a href="#cb84-23"></a>                                       PubDate_exact, </span>
<span id="cb84-24"><a href="#cb84-24"></a>                                       <span class="st">`</span><span class="at">PubDate_exact&lt;&gt;wrong_content</span><span class="st">`</span>, </span>
<span id="cb84-25"><a href="#cb84-25"></a>                                       <span class="st">`</span><span class="at">PubDate_exact&lt;&gt;incomplete_content</span><span class="st">`</span>, </span>
<span id="cb84-26"><a href="#cb84-26"></a>                                       <span class="st">`</span><span class="at">PubDate_exact&lt;&gt;wrong_place</span><span class="st">`</span>)),</span>
<span id="cb84-27"><a href="#cb84-27"></a>         <span class="at">DoA_info =</span> <span class="fu">as.character</span>(<span class="fu">vier</span>(missing, </span>
<span id="cb84-28"><a href="#cb84-28"></a>                                      Date_of_access, </span>
<span id="cb84-29"><a href="#cb84-29"></a>                                      <span class="st">`</span><span class="at">Date_of_access&lt;&gt;wrong_content</span><span class="st">`</span>, </span>
<span id="cb84-30"><a href="#cb84-30"></a>                                      <span class="st">`</span><span class="at">Date_of_access&lt;&gt;incomplete_content</span><span class="st">`</span>, </span>
<span id="cb84-31"><a href="#cb84-31"></a>                                      <span class="st">`</span><span class="at">Date_of_access&lt;&gt;wrong_place</span><span class="st">`</span>)),</span>
<span id="cb84-32"><a href="#cb84-32"></a>         <span class="at">Year_info =</span> <span class="fu">as.character</span>(<span class="fu">vier</span>(missing, </span>
<span id="cb84-33"><a href="#cb84-33"></a>                                       PubDate_year, </span>
<span id="cb84-34"><a href="#cb84-34"></a>                                       <span class="st">`</span><span class="at">PubDate_year&lt;&gt;wrong_content</span><span class="st">`</span>, </span>
<span id="cb84-35"><a href="#cb84-35"></a>                                       <span class="st">`</span><span class="at">PubDate_year&lt;&gt;incomplete_content</span><span class="st">`</span>, </span>
<span id="cb84-36"><a href="#cb84-36"></a>                                       <span class="st">`</span><span class="at">PubDate_year&lt;&gt;wrong_place</span><span class="st">`</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb84-37"><a href="#cb84-37"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb84-38"><a href="#cb84-38"></a>  <span class="fu">mutate</span>(<span class="at">structure_info =</span> <span class="fu">ifelse</span>(Date_info<span class="sc">!=</span><span class="st">'NA'</span>, Date_info, </span>
<span id="cb84-39"><a href="#cb84-39"></a>                                  <span class="fu">ifelse</span>(DoA_info<span class="sc">!=</span><span class="st">'NA'</span>, DoA_info, </span>
<span id="cb84-40"><a href="#cb84-40"></a>                                         Year_info))) <span class="sc">%&gt;%</span></span>
<span id="cb84-41"><a href="#cb84-41"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span> <span class="st">'JATS'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb84-42"><a href="#cb84-42"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(Date_info, DoA_info, Year_info))  <span class="sc">%&gt;%</span></span>
<span id="cb84-43"><a href="#cb84-43"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">recode</span>(source, <span class="st">`</span><span class="at">CRO</span><span class="st">`</span><span class="ot">=</span><span class="st">'CRO_ERR'</span>, <span class="st">`</span><span class="at">SEM</span><span class="st">`</span><span class="ot">=</span><span class="st">'SEM_ERR'</span>)) <span class="ot">-&gt;</span></span>
<span id="cb84-44"><a href="#cb84-44"></a>  data_long_2</span>
<span id="cb84-45"><a href="#cb84-45"></a></span>
<span id="cb84-46"><a href="#cb84-46"></a>data_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_long, data_long_2)</span>
<span id="cb84-47"><a href="#cb84-47"></a>data_long <span class="sc">%&lt;&gt;%</span> <span class="fu">rename</span>(<span class="at">value=</span>structure_info)</span>
<span id="cb84-48"><a href="#cb84-48"></a></span>
<span id="cb84-49"><a href="#cb84-49"></a>p <span class="ot">&lt;-</span> <span class="fu">create_alluvial</span>(data_long, </span>
<span id="cb84-50"><a href="#cb84-50"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>)], </span>
<span id="cb84-51"><a href="#cb84-51"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb84-52"><a href="#cb84-52"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>)], </span>
<span id="cb84-53"><a href="#cb84-53"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb84-54"><a href="#cb84-54"></a>                     <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"not available (NA)"</span>, </span>
<span id="cb84-55"><a href="#cb84-55"></a>                              <span class="st">"structured (S)"</span>, </span>
<span id="cb84-56"><a href="#cb84-56"></a>                              <span class="st">"missing (M)"</span>, </span>
<span id="cb84-57"><a href="#cb84-57"></a>                              <span class="st">"correct (C)"</span>, </span>
<span id="cb84-58"><a href="#cb84-58"></a>                              <span class="st">"error (E)"</span>, </span>
<span id="cb84-59"><a href="#cb84-59"></a>                              <span class="st">"unstructured (US)"</span>), </span>
<span id="cb84-60"><a href="#cb84-60"></a>                     <span class="at">title =</span> <span class="st">"Publication date representation across databases"</span>)</span>
<span id="cb84-61"><a href="#cb84-61"></a></span>
<span id="cb84-62"><a href="#cb84-62"></a><span class="fu">ggsave</span>(<span class="st">'db_year.jpg'</span>, p, <span class="at">width =</span> <span class="dv">9</span>, <span class="at">height =</span> <span class="dv">5</span>)</span>
<span id="cb84-63"><a href="#cb84-63"></a></span>
<span id="cb84-64"><a href="#cb84-64"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S8 (Article Fig 11): Alluvial plot illustrating the </span></span>
<span id="cb84-65"><a href="#cb84-65"></a><span class="st">              availability, structure, and correctness of software release date </span></span>
<span id="cb84-66"><a href="#cb84-66"></a><span class="st">              representations within Direct Software Citations following the </span></span>
<span id="cb84-67"><a href="#cb84-67"></a><span class="st">              principle of Figure S6."</span>)</span>
<span id="cb84-68"><a href="#cb84-68"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="1056"></p>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>df_table <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_table, <span class="fu">get_main_numbers</span>(data_long, <span class="st">"Date"</span>))</span>
<span id="cb85-2"><a href="#cb85-2"></a></span>
<span id="cb85-3"><a href="#cb85-3"></a><span class="co">#cat(software_year(data_long, df))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Creator:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb86-2"><a href="#cb86-2"></a>  <span class="fu">mutate</span>(<span class="at">Creator_info =</span> <span class="fu">drei</span>(Creator, </span>
<span id="cb86-3"><a href="#cb86-3"></a>                             <span class="st">`</span><span class="at">Creator&lt;&gt;unstructured</span><span class="st">`</span>, </span>
<span id="cb86-4"><a href="#cb86-4"></a>                             <span class="at">string=</span><span class="st">'S'</span>, </span>
<span id="cb86-5"><a href="#cb86-5"></a>                             missing)) <span class="sc">%&gt;%</span></span>
<span id="cb86-6"><a href="#cb86-6"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="ot">-&gt;</span> </span>
<span id="cb86-7"><a href="#cb86-7"></a>  data_long</span>
<span id="cb86-8"><a href="#cb86-8"></a></span>
<span id="cb86-9"><a href="#cb86-9"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb86-10"><a href="#cb86-10"></a>  <span class="fu">mutate</span>(<span class="at">Creator_info =</span> <span class="fu">vier</span>(missing, </span>
<span id="cb86-11"><a href="#cb86-11"></a>                             Creator, </span>
<span id="cb86-12"><a href="#cb86-12"></a>                             <span class="st">`</span><span class="at">Creator&lt;&gt;wrong_content</span><span class="st">`</span>, </span>
<span id="cb86-13"><a href="#cb86-13"></a>                             <span class="st">`</span><span class="at">Creator&lt;&gt;incomplete_content</span><span class="st">`</span>, </span>
<span id="cb86-14"><a href="#cb86-14"></a>                             <span class="st">`</span><span class="at">Creator&lt;&gt;wrong_place</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb86-15"><a href="#cb86-15"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb86-16"><a href="#cb86-16"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span> <span class="st">'JATS'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb86-17"><a href="#cb86-17"></a>  <span class="fu">mutate</span>(<span class="at">source =</span>  <span class="fu">recode</span>(source, <span class="st">`</span><span class="at">CRO</span><span class="st">`</span><span class="ot">=</span><span class="st">'CRO_ERR'</span>, <span class="st">`</span><span class="at">SEM</span><span class="st">`</span><span class="ot">=</span><span class="st">'SEM_ERR'</span>)) <span class="ot">-&gt;</span></span>
<span id="cb86-18"><a href="#cb86-18"></a>  data_long_2</span>
<span id="cb86-19"><a href="#cb86-19"></a></span>
<span id="cb86-20"><a href="#cb86-20"></a>data_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_long, data_long_2)</span>
<span id="cb86-21"><a href="#cb86-21"></a>data_long <span class="sc">%&lt;&gt;%</span> <span class="fu">rename</span>(<span class="at">value=</span>Creator_info)</span>
<span id="cb86-22"><a href="#cb86-22"></a></span>
<span id="cb86-23"><a href="#cb86-23"></a>p <span class="ot">&lt;-</span> <span class="fu">create_alluvial</span>(data_long, </span>
<span id="cb86-24"><a href="#cb86-24"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>)], </span>
<span id="cb86-25"><a href="#cb86-25"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb86-26"><a href="#cb86-26"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">5</span>)], </span>
<span id="cb86-27"><a href="#cb86-27"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb86-28"><a href="#cb86-28"></a>                     <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"not available (NA)"</span>, </span>
<span id="cb86-29"><a href="#cb86-29"></a>                              <span class="st">"structured (S)"</span>, </span>
<span id="cb86-30"><a href="#cb86-30"></a>                              <span class="st">"missing (M)"</span>, </span>
<span id="cb86-31"><a href="#cb86-31"></a>                              <span class="st">"correct (C)"</span>, </span>
<span id="cb86-32"><a href="#cb86-32"></a>                              <span class="st">"error (E)"</span>, </span>
<span id="cb86-33"><a href="#cb86-33"></a>                              <span class="st">"unstructured (US)"</span>), </span>
<span id="cb86-34"><a href="#cb86-34"></a>                     <span class="at">title =</span> <span class="st">"Creator representation across databases"</span>)</span>
<span id="cb86-35"><a href="#cb86-35"></a></span>
<span id="cb86-36"><a href="#cb86-36"></a><span class="fu">ggsave</span>(<span class="st">'db_creator.jpg'</span>, p, <span class="at">width =</span> <span class="dv">9</span>, <span class="at">height =</span> <span class="dv">5</span>)</span>
<span id="cb86-37"><a href="#cb86-37"></a></span>
<span id="cb86-38"><a href="#cb86-38"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S8 (Article Fig 8): Alluvial plot illustrating the </span></span>
<span id="cb86-39"><a href="#cb86-39"></a><span class="st">              availability, structure, and correctness of software release date </span></span>
<span id="cb86-40"><a href="#cb86-40"></a><span class="st">              representations within Direct Software Citations following the </span></span>
<span id="cb86-41"><a href="#cb86-41"></a><span class="st">              principle of Figure S6."</span>)</span>
<span id="cb86-42"><a href="#cb86-42"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="1056"></p>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>df_table <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_table, <span class="fu">get_main_numbers</span>(data_long, <span class="st">"Developer"</span>))</span>
<span id="cb87-2"><a href="#cb87-2"></a></span>
<span id="cb87-3"><a href="#cb87-3"></a><span class="co">#cat(software_creator(data_long, df))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>URL:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb88-2"><a href="#cb88-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb88-3"><a href="#cb88-3"></a>    <span class="at">ID_info =</span> <span class="fu">as.character</span>(<span class="fu">drei</span>(ID, </span>
<span id="cb88-4"><a href="#cb88-4"></a>                                <span class="st">`</span><span class="at">ID&lt;&gt;unstructured</span><span class="st">`</span>,</span>
<span id="cb88-5"><a href="#cb88-5"></a>                                <span class="at">string=</span><span class="st">'S'</span>,</span>
<span id="cb88-6"><a href="#cb88-6"></a>                                missing)),</span>
<span id="cb88-7"><a href="#cb88-7"></a>    <span class="at">Archive_info =</span> <span class="fu">as.character</span>(<span class="fu">drei</span>(Archive, </span>
<span id="cb88-8"><a href="#cb88-8"></a>                                     <span class="st">`</span><span class="at">Archive&lt;&gt;unstructured</span><span class="st">`</span>,</span>
<span id="cb88-9"><a href="#cb88-9"></a>                                     <span class="at">string=</span><span class="st">'S'</span>, </span>
<span id="cb88-10"><a href="#cb88-10"></a>                                     missing)),</span>
<span id="cb88-11"><a href="#cb88-11"></a>    <span class="at">URL_info =</span> <span class="fu">as.character</span>(<span class="fu">drei</span>(URL, </span>
<span id="cb88-12"><a href="#cb88-12"></a>                                 <span class="st">`</span><span class="at">URL&lt;&gt;unstructured</span><span class="st">`</span>, </span>
<span id="cb88-13"><a href="#cb88-13"></a>                                 <span class="at">string=</span><span class="st">'S'</span>, </span>
<span id="cb88-14"><a href="#cb88-14"></a>                                 missing))) <span class="sc">%&gt;%</span></span>
<span id="cb88-15"><a href="#cb88-15"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb88-16"><a href="#cb88-16"></a>  <span class="fu">mutate</span>(<span class="at">structure_info =</span> <span class="fu">ifelse</span>(ID_info<span class="sc">!=</span><span class="st">'NA'</span>, ID_info, </span>
<span id="cb88-17"><a href="#cb88-17"></a>                                  <span class="fu">ifelse</span>(Archive_info<span class="sc">!=</span><span class="st">'NA'</span>, </span>
<span id="cb88-18"><a href="#cb88-18"></a>                                         Archive_info, </span>
<span id="cb88-19"><a href="#cb88-19"></a>                                         URL_info))) <span class="sc">%&gt;%</span></span>
<span id="cb88-20"><a href="#cb88-20"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(ID_info, Archive_info, URL_info)) <span class="ot">-&gt;</span></span>
<span id="cb88-21"><a href="#cb88-21"></a>  data_long</span>
<span id="cb88-22"><a href="#cb88-22"></a></span>
<span id="cb88-23"><a href="#cb88-23"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb88-24"><a href="#cb88-24"></a>  <span class="fu">mutate</span>(<span class="at">ID_info =</span> <span class="fu">as.character</span>(<span class="fu">vier</span>(missing, </span>
<span id="cb88-25"><a href="#cb88-25"></a>                                     ID, </span>
<span id="cb88-26"><a href="#cb88-26"></a>                                     <span class="st">`</span><span class="at">ID&lt;&gt;wrong_content</span><span class="st">`</span>,</span>
<span id="cb88-27"><a href="#cb88-27"></a>                                     <span class="st">`</span><span class="at">ID&lt;&gt;incomplete_content</span><span class="st">`</span>,</span>
<span id="cb88-28"><a href="#cb88-28"></a>                                     <span class="st">`</span><span class="at">ID&lt;&gt;wrong_place</span><span class="st">`</span>)),</span>
<span id="cb88-29"><a href="#cb88-29"></a>         <span class="at">Archive_info =</span> <span class="fu">as.character</span>(<span class="fu">vier</span>(missing, </span>
<span id="cb88-30"><a href="#cb88-30"></a>                                          Archive, </span>
<span id="cb88-31"><a href="#cb88-31"></a>                                          <span class="st">`</span><span class="at">Archive&lt;&gt;wrong_content</span><span class="st">`</span>, </span>
<span id="cb88-32"><a href="#cb88-32"></a>                                          <span class="st">`</span><span class="at">Archive&lt;&gt;incomplete_content</span><span class="st">`</span>,</span>
<span id="cb88-33"><a href="#cb88-33"></a>                                          <span class="st">`</span><span class="at">Archive&lt;&gt;wrong_place</span><span class="st">`</span>)),</span>
<span id="cb88-34"><a href="#cb88-34"></a>         <span class="at">URL_info =</span> <span class="fu">as.character</span>(<span class="fu">vier</span>(missing,</span>
<span id="cb88-35"><a href="#cb88-35"></a>                                      URL,</span>
<span id="cb88-36"><a href="#cb88-36"></a>                                      <span class="st">`</span><span class="at">URL&lt;&gt;wrong_content</span><span class="st">`</span>,</span>
<span id="cb88-37"><a href="#cb88-37"></a>                                      <span class="st">`</span><span class="at">URL&lt;&gt;incomplete_content</span><span class="st">`</span>,</span>
<span id="cb88-38"><a href="#cb88-38"></a>                                      <span class="st">`</span><span class="at">URL&lt;&gt;wrong_place</span><span class="st">`</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb88-39"><a href="#cb88-39"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb88-40"><a href="#cb88-40"></a>  <span class="fu">mutate</span>(<span class="at">structure_info =</span> <span class="fu">ifelse</span>(ID_info<span class="sc">!=</span><span class="st">'NA'</span>, ID_info, </span>
<span id="cb88-41"><a href="#cb88-41"></a>                             <span class="fu">ifelse</span>(Archive_info<span class="sc">!=</span><span class="st">'NA'</span>,</span>
<span id="cb88-42"><a href="#cb88-42"></a>                                    Archive_info, </span>
<span id="cb88-43"><a href="#cb88-43"></a>                                    URL_info))) <span class="sc">%&gt;%</span></span>
<span id="cb88-44"><a href="#cb88-44"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span> <span class="st">'JATS'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb88-45"><a href="#cb88-45"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(ID_info, Archive_info, URL_info)) <span class="sc">%&gt;%</span></span>
<span id="cb88-46"><a href="#cb88-46"></a>  <span class="fu">mutate</span>(<span class="at">source =</span> <span class="fu">recode</span>(source, <span class="st">`</span><span class="at">CRO</span><span class="st">`</span><span class="ot">=</span><span class="st">'CRO_ERR'</span>, <span class="st">`</span><span class="at">SEM</span><span class="st">`</span><span class="ot">=</span><span class="st">'SEM_ERR'</span>)) <span class="ot">-&gt;</span></span>
<span id="cb88-47"><a href="#cb88-47"></a>  data_long_2</span>
<span id="cb88-48"><a href="#cb88-48"></a></span>
<span id="cb88-49"><a href="#cb88-49"></a>data_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_long, data_long_2)</span>
<span id="cb88-50"><a href="#cb88-50"></a>data_long <span class="sc">%&lt;&gt;%</span> <span class="fu">rename</span>(<span class="at">value=</span>structure_info)</span>
<span id="cb88-51"><a href="#cb88-51"></a></span>
<span id="cb88-52"><a href="#cb88-52"></a>p <span class="ot">&lt;-</span> <span class="fu">create_alluvial</span>(data_long, </span>
<span id="cb88-53"><a href="#cb88-53"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>)],</span>
<span id="cb88-54"><a href="#cb88-54"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)],</span>
<span id="cb88-55"><a href="#cb88-55"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>)], </span>
<span id="cb88-56"><a href="#cb88-56"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)],</span>
<span id="cb88-57"><a href="#cb88-57"></a>                     <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"not available (NA)"</span>,</span>
<span id="cb88-58"><a href="#cb88-58"></a>                              <span class="st">"structured (S)"</span>, </span>
<span id="cb88-59"><a href="#cb88-59"></a>                              <span class="st">"missing (M)"</span>, </span>
<span id="cb88-60"><a href="#cb88-60"></a>                              <span class="st">"correct (C)"</span>,</span>
<span id="cb88-61"><a href="#cb88-61"></a>                              <span class="st">"error (E)"</span>, </span>
<span id="cb88-62"><a href="#cb88-62"></a>                              <span class="st">"unstructured (US)"</span>), </span>
<span id="cb88-63"><a href="#cb88-63"></a>                     <span class="at">title =</span> <span class="st">"Identifier representation across databases"</span>)</span>
<span id="cb88-64"><a href="#cb88-64"></a></span>
<span id="cb88-65"><a href="#cb88-65"></a><span class="fu">ggsave</span>(<span class="st">'db_url.jpg'</span>, p, <span class="at">width =</span> <span class="dv">9</span>, <span class="at">height =</span> <span class="dv">5</span>)</span>
<span id="cb88-66"><a href="#cb88-66"></a></span>
<span id="cb88-67"><a href="#cb88-67"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S9 (Article Fig 9): Alluvial plot illustrating the </span></span>
<span id="cb88-68"><a href="#cb88-68"></a><span class="st">              availability, structure, and correctness of software identifier </span></span>
<span id="cb88-69"><a href="#cb88-69"></a><span class="st">              representations within Direct Software Citations following the </span></span>
<span id="cb88-70"><a href="#cb88-70"></a><span class="st">              principle of Figure S6."</span>)</span>
<span id="cb88-71"><a href="#cb88-71"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="1056"></p>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>df_table <span class="ot">&lt;-</span> <span class="fu">rbind</span>(df_table, <span class="fu">get_main_numbers</span>(data_long, <span class="st">"URL"</span>))</span>
<span id="cb89-2"><a href="#cb89-2"></a></span>
<span id="cb89-3"><a href="#cb89-3"></a><span class="co">#cat(software_identifier(data_long, df))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Description:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="#cb90-2"></a>  <span class="fu">mutate</span>(<span class="at">Description_info =</span> <span class="fu">drei</span>(Description,</span>
<span id="cb90-3"><a href="#cb90-3"></a>                                 <span class="st">`</span><span class="at">Description&lt;&gt;unstructured</span><span class="st">`</span>,</span>
<span id="cb90-4"><a href="#cb90-4"></a>                                 <span class="at">string=</span><span class="st">'S'</span>,</span>
<span id="cb90-5"><a href="#cb90-5"></a>                                 missing)) <span class="sc">%&gt;%</span></span>
<span id="cb90-6"><a href="#cb90-6"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="ot">-&gt;</span> </span>
<span id="cb90-7"><a href="#cb90-7"></a>  data_long</span>
<span id="cb90-8"><a href="#cb90-8"></a></span>
<span id="cb90-9"><a href="#cb90-9"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb90-10"><a href="#cb90-10"></a>  <span class="fu">mutate</span>(<span class="at">Description_info =</span> <span class="fu">vier</span>(missing, </span>
<span id="cb90-11"><a href="#cb90-11"></a>                                 Description, </span>
<span id="cb90-12"><a href="#cb90-12"></a>                                 <span class="st">`</span><span class="at">Description&lt;&gt;wrong_content</span><span class="st">`</span>, </span>
<span id="cb90-13"><a href="#cb90-13"></a>                                 <span class="st">`</span><span class="at">Description&lt;&gt;incomplete_content</span><span class="st">`</span>, </span>
<span id="cb90-14"><a href="#cb90-14"></a>                                 <span class="st">`</span><span class="at">Description&lt;&gt;wrong_place</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-15"><a href="#cb90-15"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb90-16"><a href="#cb90-16"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span> <span class="st">'JATS'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-17"><a href="#cb90-17"></a>  <span class="fu">mutate</span>(<span class="at">source =</span>  <span class="fu">recode</span>(source, <span class="st">`</span><span class="at">CRO</span><span class="st">`</span><span class="ot">=</span><span class="st">'CRO_ERR'</span>, <span class="st">`</span><span class="at">SEM</span><span class="st">`</span><span class="ot">=</span><span class="st">'SEM_ERR'</span>)) <span class="ot">-&gt;</span></span>
<span id="cb90-18"><a href="#cb90-18"></a>  data_long_2</span>
<span id="cb90-19"><a href="#cb90-19"></a></span>
<span id="cb90-20"><a href="#cb90-20"></a>data_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_long, data_long_2)</span>
<span id="cb90-21"><a href="#cb90-21"></a>data_long <span class="sc">%&lt;&gt;%</span> <span class="fu">rename</span>(<span class="at">value=</span>Description_info)</span>
<span id="cb90-22"><a href="#cb90-22"></a></span>
<span id="cb90-23"><a href="#cb90-23"></a>p <span class="ot">&lt;-</span> <span class="fu">create_alluvial</span>(data_long, </span>
<span id="cb90-24"><a href="#cb90-24"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>)], </span>
<span id="cb90-25"><a href="#cb90-25"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb90-26"><a href="#cb90-26"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)], </span>
<span id="cb90-27"><a href="#cb90-27"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>)], </span>
<span id="cb90-28"><a href="#cb90-28"></a>                     <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"not available (NA)"</span>, </span>
<span id="cb90-29"><a href="#cb90-29"></a>                              <span class="st">"structured (S)"</span>,</span>
<span id="cb90-30"><a href="#cb90-30"></a>                              <span class="st">"missing (M)"</span>, </span>
<span id="cb90-31"><a href="#cb90-31"></a>                              <span class="st">"correct (C)"</span>,</span>
<span id="cb90-32"><a href="#cb90-32"></a>                              <span class="st">"error (E)"</span>, </span>
<span id="cb90-33"><a href="#cb90-33"></a>                              <span class="st">"unstructured (US)"</span>), </span>
<span id="cb90-34"><a href="#cb90-34"></a>                     <span class="at">title =</span> <span class="st">"Description representation across databases"</span>)</span>
<span id="cb90-35"><a href="#cb90-35"></a></span>
<span id="cb90-36"><a href="#cb90-36"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S10: Alluvial plot illustrating the </span></span>
<span id="cb90-37"><a href="#cb90-37"></a><span class="st">              availability, structure, and correctness of software description </span></span>
<span id="cb90-38"><a href="#cb90-38"></a><span class="st">              representations within Direct Software Citations following the </span></span>
<span id="cb90-39"><a href="#cb90-39"></a><span class="st">              principle of Figure S6."</span>)</span>
<span id="cb90-40"><a href="#cb90-40"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="1056"></p>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a><span class="co">#ggsave('db_description.jpg', p, width = 9, height = 5)</span></span>
<span id="cb91-2"><a href="#cb91-2"></a></span>
<span id="cb91-3"><a href="#cb91-3"></a><span class="co">#cat(software_description(data_long))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Type of citation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb92-2"><a href="#cb92-2"></a>  <span class="fu">mutate</span>(<span class="at">Type_of_citation_info =</span> <span class="fu">drei</span>(Type_of_citation, </span>
<span id="cb92-3"><a href="#cb92-3"></a>                                      <span class="st">`</span><span class="at">Type_of_citation&lt;&gt;unstructured</span><span class="st">`</span>,</span>
<span id="cb92-4"><a href="#cb92-4"></a>                                      <span class="at">string=</span><span class="st">'S'</span>,</span>
<span id="cb92-5"><a href="#cb92-5"></a>                                      missing)) <span class="sc">%&gt;%</span></span>
<span id="cb92-6"><a href="#cb92-6"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="ot">-&gt;</span> </span>
<span id="cb92-7"><a href="#cb92-7"></a>  data_long</span>
<span id="cb92-8"><a href="#cb92-8"></a></span>
<span id="cb92-9"><a href="#cb92-9"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb92-10"><a href="#cb92-10"></a>  <span class="fu">mutate</span>(<span class="at">Type_of_citation_info =</span> <span class="fu">vier</span>(missing,</span>
<span id="cb92-11"><a href="#cb92-11"></a>                                      Type_of_citation,</span>
<span id="cb92-12"><a href="#cb92-12"></a>                                      <span class="st">`</span><span class="at">Type_of_citation&lt;&gt;wrong_content</span><span class="st">`</span>, </span>
<span id="cb92-13"><a href="#cb92-13"></a>                                      <span class="st">`</span><span class="at">Type_of_citation&lt;&gt;incomplete_content</span><span class="st">`</span>,</span>
<span id="cb92-14"><a href="#cb92-14"></a>                                      <span class="st">`</span><span class="at">Type_of_citation&lt;&gt;wrong_place</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb92-15"><a href="#cb92-15"></a>  <span class="fu">select</span>(source, id, <span class="fu">ends_with</span>(<span class="st">'_info'</span>), software_citation_type) <span class="sc">%&gt;%</span></span>
<span id="cb92-16"><a href="#cb92-16"></a>  <span class="fu">filter</span>(source <span class="sc">!=</span> <span class="st">'JATS'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb92-17"><a href="#cb92-17"></a>  <span class="fu">mutate</span>(<span class="at">source =</span>  <span class="fu">recode</span>(source, <span class="st">`</span><span class="at">CRO</span><span class="st">`</span><span class="ot">=</span><span class="st">'CRO_ERR'</span>, <span class="st">`</span><span class="at">SEM</span><span class="st">`</span><span class="ot">=</span><span class="st">'SEM_ERR'</span>)) <span class="ot">-&gt;</span></span>
<span id="cb92-18"><a href="#cb92-18"></a>  data_long_2</span>
<span id="cb92-19"><a href="#cb92-19"></a></span>
<span id="cb92-20"><a href="#cb92-20"></a>data_long <span class="ot">&lt;-</span> <span class="fu">rbind</span>(data_long, data_long_2)</span>
<span id="cb92-21"><a href="#cb92-21"></a>data_long <span class="sc">%&lt;&gt;%</span> <span class="fu">rename</span>(<span class="at">value=</span>Type_of_citation_info)</span>
<span id="cb92-22"><a href="#cb92-22"></a></span>
<span id="cb92-23"><a href="#cb92-23"></a>p <span class="ot">&lt;-</span> <span class="fu">create_alluvial</span>(data_long,</span>
<span id="cb92-24"><a href="#cb92-24"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>)],</span>
<span id="cb92-25"><a href="#cb92-25"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)],</span>
<span id="cb92-26"><a href="#cb92-26"></a>                     col_vector[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>)],</span>
<span id="cb92-27"><a href="#cb92-27"></a>                     col_vector_flow[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)], </span>
<span id="cb92-28"><a href="#cb92-28"></a>                     <span class="at">labels=</span><span class="fu">c</span>(<span class="st">"not available (NA)"</span>, </span>
<span id="cb92-29"><a href="#cb92-29"></a>                              <span class="st">"structured (S)"</span>, </span>
<span id="cb92-30"><a href="#cb92-30"></a>                              <span class="st">"missing (M)"</span>, </span>
<span id="cb92-31"><a href="#cb92-31"></a>                              <span class="st">"correct (C)"</span>, </span>
<span id="cb92-32"><a href="#cb92-32"></a>                              <span class="st">"error (E)"</span>,</span>
<span id="cb92-33"><a href="#cb92-33"></a>                              <span class="st">"unstructured (US)"</span>),</span>
<span id="cb92-34"><a href="#cb92-34"></a>                     <span class="at">title =</span> <span class="st">"Type of citation representation across databases"</span>)</span>
<span id="cb92-35"><a href="#cb92-35"></a></span>
<span id="cb92-36"><a href="#cb92-36"></a>p <span class="ot">&lt;-</span> p <span class="sc">+</span> <span class="fu">labs</span>(<span class="at">caption=</span><span class="st">"Fig S11: Alluvial plot illustrating the </span></span>
<span id="cb92-37"><a href="#cb92-37"></a><span class="st">              availability, structure, and correctness of software type of citation </span></span>
<span id="cb92-38"><a href="#cb92-38"></a><span class="st">              representations within Direct Software Citations following the </span></span>
<span id="cb92-39"><a href="#cb92-39"></a><span class="st">              principle of Figure S6."</span>)</span>
<span id="cb92-40"><a href="#cb92-40"></a><span class="fu">print</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="analyses_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="1056"></p>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="co">#ggsave('db_type.jpg', p, width = 9, height = 5)</span></span>
<span id="cb93-2"><a href="#cb93-2"></a></span>
<span id="cb93-3"><a href="#cb93-3"></a><span class="co">#cat(software_type_of_citatin(data_long))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Summary table for paper:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a>df_table <span class="sc">%&gt;%</span></span>
<span id="cb94-2"><a href="#cb94-2"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">Meta-data</span><span class="st">`</span>, <span class="st">`</span><span class="at">software_citation_type</span><span class="st">`</span>, <span class="st">`</span><span class="at">source</span><span class="st">`</span>, <span class="st">`</span><span class="at">n_total</span><span class="st">`</span>, <span class="st">`</span><span class="at">NA</span><span class="st">`</span>, </span>
<span id="cb94-3"><a href="#cb94-3"></a>         <span class="st">`</span><span class="at">NA %</span><span class="st">`</span>, <span class="st">`</span><span class="at">US</span><span class="st">`</span>, <span class="st">`</span><span class="at">US %</span><span class="st">`</span>, <span class="st">`</span><span class="at">S</span><span class="st">`</span>, <span class="st">`</span><span class="at">S %</span><span class="st">`</span>, <span class="st">`</span><span class="at">C</span><span class="st">`</span>, <span class="st">`</span><span class="at">C %</span><span class="st">`</span>, <span class="st">`</span><span class="at">E</span><span class="st">`</span>, <span class="st">`</span><span class="at">E %</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb94-4"><a href="#cb94-4"></a>  <span class="fu">rename</span>(<span class="at">DB=</span><span class="st">`</span><span class="at">source</span><span class="st">`</span>, <span class="at">Citation=</span><span class="st">`</span><span class="at">software_citation_type</span><span class="st">`</span>, <span class="at">n=</span><span class="st">`</span><span class="at">n_total</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb94-5"><a href="#cb94-5"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Meta-data</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">Meta-data</span><span class="st">`</span>, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'Name'</span>, <span class="st">'URL'</span>, <span class="st">'Developer'</span>,</span>
<span id="cb94-6"><a href="#cb94-6"></a>                                                    <span class="st">'Version'</span>, <span class="st">'Date'</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb94-7"><a href="#cb94-7"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">DB</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">DB</span><span class="st">`</span>, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'JATS'</span>, <span class="st">'CRO'</span>, <span class="st">'SEM'</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb94-8"><a href="#cb94-8"></a>  <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Meta-data</span><span class="st">`</span>, <span class="st">`</span><span class="at">Citation</span><span class="st">`</span>, <span class="st">`</span><span class="at">DB</span><span class="st">`</span>) <span class="ot">-&gt;</span> df_out</span>
<span id="cb94-9"><a href="#cb94-9"></a></span>
<span id="cb94-10"><a href="#cb94-10"></a><span class="co">#print(xtable(df_out), include.rownames=F)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.3.0 (2023-04-21)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 18.04.6 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.7.1 
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.7.1

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=de_DE.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=de_DE.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=de_DE.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=de_DE.UTF-8 LC_IDENTIFICATION=C       

time zone: Europe/Berlin
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] rcompanion_2.4.30  xtable_1.8-4       easyalluvial_0.3.1 ggalluvial_0.12.5 
 [5] DescTools_0.99.48  patchwork_1.1.2    magrittr_2.0.3     lubridate_1.9.2   
 [9] forcats_1.0.0      stringr_1.5.0      dplyr_1.1.2        purrr_1.0.1       
[13] readr_2.1.4        tidyr_1.3.0        tibble_3.2.1       ggplot2_3.4.2     
[17] tidyverse_2.0.0   

loaded via a namespace (and not attached):
 [1] gridExtra_2.3       gld_2.6.6           sandwich_3.0-2     
 [4] readxl_1.4.2        rlang_1.1.1         multcomp_1.4-23    
 [7] matrixStats_1.0.0   ggridges_0.5.4      e1071_1.7-13       
[10] compiler_4.3.0      systemfonts_1.0.4   vctrs_0.6.2        
[13] crayon_1.5.2        pkgconfig_2.0.3     fastmap_1.1.1      
[16] labeling_0.4.2      utf8_1.2.3          rmarkdown_2.21     
[19] prodlim_2023.03.31  tzdb_0.3.0          ragg_1.2.5         
[22] bit_4.0.5           xfun_0.39           modeltools_0.2-23  
[25] jsonlite_1.8.4      recipes_1.0.6       parallel_4.3.0     
[28] R6_2.5.1            coin_1.4-2          stringi_1.7.12     
[31] RColorBrewer_1.1-3  parallelly_1.35.0   boot_1.3-28.1      
[34] rpart_4.1.19        lmtest_0.9-40       cellranger_1.1.0   
[37] Rcpp_1.0.10         knitr_1.42          future.apply_1.10.0
[40] zoo_1.8-12          Matrix_1.5-4        splines_4.3.0      
[43] nnet_7.3-18         timechange_0.2.0    tidyselect_1.2.0   
[46] rstudioapi_0.14     yaml_2.3.7          timeDate_4022.108  
[49] codetools_0.2-19    listenv_0.9.0       lattice_0.21-8     
[52] plyr_1.8.8          withr_2.5.0         evaluate_0.20      
[55] future_1.32.0       survival_3.5-5      proxy_0.4-27       
[58] pillar_1.9.0        nortest_1.0-4       stats4_4.3.0       
[61] generics_0.1.3      vroom_1.6.1         hms_1.1.3          
[64] munsell_0.5.0       scales_1.2.1        rootSolve_1.8.2.3  
[67] globals_0.16.2      class_7.3-21        glue_1.6.2         
[70] lmom_2.9            tools_4.3.0         data.table_1.14.8  
[73] gower_1.0.1         Exact_3.2           mvtnorm_1.1-3      
[76] grid_4.3.0          libcoin_1.0-9       ipred_0.9-14       
[79] colorspace_2.1-0    cli_3.6.1           textshaping_0.3.6  
[82] fansi_1.0.4         expm_0.999-7        lava_1.7.2.1       
[85] gtable_0.3.3        digest_0.6.31       progressr_0.13.0   
[88] TH.data_1.1-2       farver_2.1.1        htmlwidgets_1.6.2  
[91] htmltools_0.5.5     lifecycle_1.0.3     hardhat_1.3.0      
[94] httr_1.4.5          multcompView_0.1-9  bit64_4.0.5        
[97] MASS_7.3-59        </code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>